<!DOCTYPE html> 
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>VISA REMEEX Premium - Configuración Inicial</title>
  <!-- Se desactiva el zoom en móviles -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="Selección de Idioma, Tipo de Tarjeta, País, Tipo de Transacción y Términos." />

  <link rel="icon" href="https://w7.pngwing.com/pngs/400/28/png-transparent-credit-card-computer-icons-visa-electron-bank-curio-blue-text-rectangle-thumbnail.png" type="image/png" />
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>

  <!-- ESTILOS PARA EL POPUP DE BIENVENIDA (Ventana emergente moderna) -->
  <style>
    /* Estilos para la ventana emergente de bienvenida */
    .welcome-popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 9999;
      display: none;
      opacity: 0;
      transition: opacity 0.4s ease-out;
    }
    
    .welcome-popup.active {
      display: block;
      opacity: 1;
    }
    
    .popup-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(8px);
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .popup-container {
      position: relative;
      width: 95%;
      max-width: 550px;
      background: var(--card-bg);
      border-radius: var(--border-radius-xl);
      box-shadow: var(--shadow-lg);
      padding: 2.5rem 2rem;
      overflow: hidden;
      animation: glow 6s ease infinite, border-blink 6s linear infinite;
      border: 2px solid var(--border-white);
      transform: translateY(30px);
      animation: popup-enter 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    }
    
    @keyframes popup-enter {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* Botón de cerrar */
    .popup-close {
      position: absolute;
      top: 15px;
      right: 15px;
      background: transparent;
      border: none;
      color: var(--text-secondary);
      cursor: pointer;
      padding: 5px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      z-index: 10;
    }
    
    .popup-close:hover {
      color: var(--danger);
      background: rgba(239, 68, 68, 0.1);
      transform: rotate(90deg);
    }
    
    /* Botones de navegación lateral */
    .popup-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.5);
      border: none;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      opacity: 0;
      transition: all 0.3s ease;
    }
    
    .popup-container:hover .popup-nav {
      opacity: 1;
    }
    
    .popup-nav:hover {
      background: rgba(255, 255, 255, 0.8);
      transform: translateY(-50%) scale(1.1);
    }
    
    .popup-nav-prev {
      left: 15px;
    }
    
    .popup-nav-next {
      right: 15px;
    }
    
    .popup-nav.disabled {
      opacity: 0;
      cursor: default;
      pointer-events: none;
    }
    
    .popup-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    
    /* Sustituimos el círculo azul por un contenedor de imagen (Remeex Visa) */
    .popup-logo {
      width: 140px;
      height: auto;
      margin-bottom: 1.5rem;
    }
    .popup-logo img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* Contenedor de mensajes */
    .popup-message-container {
      height: 80px;
      width: 100%;
      margin-bottom: 1.5rem;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .popup-message {
      position: absolute;
      width: 100%;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.5s ease;
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text-primary);
      text-align: center;
      padding: 0 1rem;
    }
    
    .popup-message.active {
      opacity: 1;
      transform: translateY(0);
    }
    
    #userName {
      color: var(--primary);
      font-weight: 700;
    }
    
    /* Spinner con 3 puntos, ajustamos distancias */
    .popup-spinner {
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 1.5rem 0;
      position: relative;
    }
    .spinner-circle {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      margin: 0 10px;
      opacity: 0.8;
      animation: spinner-orbit 2s infinite ease-in-out;
    }
    .circle1 {
      background: var(--primary);
      animation-delay: -0.4s;
    }
    .circle2 {
      background: var(--accent);
      animation-delay: -0.2s;
    }
    .circle3 {
      background: var(--secondary);
      animation-delay: 0s;
    }
    @keyframes spinner-orbit {
      0%, 100% {
        transform: scale(1) translateY(0);
      }
      25% {
        transform: scale(1.3) translateY(-10px);
      }
      50% {
        transform: scale(1) translateY(0);
      }
      75% {
        transform: scale(0.7) translateY(10px);
      }
    }
    
    /* Indicadores de paso clicables */
    .popup-steps {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 1rem 0 2rem;
    }
    
    .step-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: #e2e8f0;
      transition: all 0.3s ease;
      border: none;
      padding: 0;
      cursor: pointer;
    }
    
    .step-indicator:hover {
      background-color: #cbd5e1;
      width: 20px;
      border-radius: 4px;
    }
    
    .step-indicator.active {
      width: 30px;
      border-radius: 4px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      cursor: default;
    }
    
    /* Botón adaptado */
    .popup-btn {
      width: 180px;
      margin: 0 auto;
    }
    
    .popup-btn .btn-glow-content {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
    }
    
    .popup-btn .btn-glow-icon {
      margin-left: 10px;
    }
    
    /* Media queries para dispositivos móviles */
    @media (max-width: 768px) {
      .popup-container {
        padding: 2rem 1.5rem;
        max-width: 500px;
      }
      
      .popup-message {
        font-size: 1.1rem;
      }
      
      .popup-btn {
        width: 150px;
      }
      
      .popup-logo {
        width: 110px;
      }
      
      .popup-spinner {
        margin: 1rem 0;
      }
      .spinner-circle {
        width: 16px;
        height: 16px;
        margin: 0 7px;
      }
    }
    
    @media (max-width: 480px) {
      .popup-container {
        padding: 1.8rem 1.2rem;
        max-width: 400px;
      }
      
      .popup-logo {
        width: 100px;
      }

      .popup-message {
        font-size: 1rem;
      }
      .popup-message-container {
        height: 70px;
      }
      
      .spinner-circle {
        width: 14px;
        height: 14px;
        margin: 0 5px;
      }
      
      .popup-btn {
        width: 130px;
      }
      
      .popup-nav {
        display: none;
      }
    }
  </style>

  <!-- ESTILOS GENERALES DE LA PÁGINA -->
  <style>
    :root {
      /* Colores modernos inspirados en Visa */
      --primary: #1a1f71; /* Azul oscuro de Visa */
      --primary-dark: #0d153e; 
      --secondary: #3b82f6;
      --accent: #60a5fa;
      --success: #22c55e;
      --danger: #ef4444;
      --warning: #f59e0b;

      /* Colores para la animación del borde */
      --border-white: #ffffff;
      --border-gray: #d1d5db;
      --border-light-blue: #93c5fd;

      /* Fondos y texto */
      --background: #f8fafc;
      --card-bg: rgba(255, 255, 255, 0.98);
      --text-primary: #0f172a;
      --text-secondary: #475569;

      /* Diseño */
      --border-radius-xl: 28px;
      --border-radius-lg: 24px;
      --border-radius: 16px;
      --border-radius-sm: 12px;
      
      /* Efectos */
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --shadow-sm: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
      --shadow: 0 10px 20px rgba(0, 0, 0, 0.3), 0 6px 6px rgba(0, 0, 0, 0.2);
      --shadow-lg: 0 25px 50px rgba(0, 0, 0, 0.3);
    }* {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
      font-family: 'Inter', sans-serif;
      color: var(--text-primary);
      line-height: 1.6;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 1rem;
      overflow-x: hidden;
    }

    .container {
      max-width: 650px;
      width: 100%;
      margin-top: 2rem;
      background: var(--card-bg);
      border-radius: var(--border-radius-xl);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      border: 2px solid var(--border-white);
      overflow: hidden;
      position: relative;
      transition: var(--transition);
      animation: glow 6s ease infinite, border-blink 6s linear infinite;
    }

    @keyframes glow {
      0%, 100% {
        box-shadow: 0 0 40px rgba(26, 31, 113, 0.5), 0 0 80px rgba(26, 31, 113, 0.3);
      }
      50% {
        box-shadow: 0 0 70px rgba(26, 31, 113, 0.8), 0 0 100px rgba(26, 31, 113, 0.6);
      }
    }

    @keyframes border-blink {
      0% {
        border-color: var(--border-white);
      }
      33% {
        border-color: var(--border-gray);
      }
      66% {
        border-color: var(--border-light-blue);
      }
      100% {
        border-color: var(--border-white);
      }
    }

    .container:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    .header {
      text-align: center;
      background: linear-gradient(135deg, var(--primary-dark), var(--primary));
      color: #fff;
      padding: 3rem 2rem;
      position: relative;
      overflow: hidden;
      border-top-left-radius: var(--border-radius-xl);
      border-top-right-radius: var(--border-radius-xl);
      background-image: var(--aurora-gradient);
      animation: aurora-animation 15s ease infinite;
    }

    @keyframes aurora-animation {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }

    :root {
      --aurora-gradient: linear-gradient(
        120deg, 
        rgba(26, 31, 113, 0.4), 
        rgba(25, 35, 102, 0.3), 
        rgba(30, 40, 120, 0.3), 
        rgba(26, 31, 113, 0.2)
      );
      background-size: 400% 400%;
    }

    .header-logo {
      width: 80%;
      max-width: 400px;
      height: auto;
      margin-bottom: 1rem;
    }

    .header p {
      font-size: 1.2rem;
      line-height: 1.6;
      max-width: 600px;
      margin: 0 auto;
      opacity: 0.95;
      position: relative;
      z-index: 2;
    }

    .header::after {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 50%;
      height: 100%;
      background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.7), transparent);
      transform: skewX(-20deg);
      opacity: 0;
      z-index: 1;
      pointer-events: none;
      animation: flash 3s infinite;
    }

    @keyframes flash {
      0% {
        left: -100%;
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      50% {
        left: 100%;
        opacity: 1;
      }
      60% {
        opacity: 0;
      }
      100% {
        left: 100%;
        opacity: 0;
      }
    }

    .logo-bar {
      background: var(--card-bg);
      padding: 1.5rem 1rem;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 3rem;
      border-bottom: 1px solid rgba(0,0,0,0.05);
      position: relative;
      overflow: hidden;
    }

    .logo-bar::before {
      content: '';
      position: absolute;
      top: 0;
      left: -50%;
      width: 200%;
      height: 100%;
      background: linear-gradient(120deg, rgba(255,255,255,0.1), rgba(255,255,255,0.2), rgba(255,255,255,0.1));
      animation: shimmer 3s linear infinite;
    }

    @keyframes shimmer {
      0% {
        transform: translateX(-50%);
      }
      100% {
        transform: translateX(50%);
      }
    }

    .logo-bar img {
      height: 36px;
      filter: grayscale(20%);
      opacity: 0.9;
      transition: var(--transition);
      position: relative;
      z-index: 2;
    }

    .logo-bar img:hover {
      filter: none;
      opacity: 1;
      transform: scale(1.08);
    }

    .progress-bar {
      height: 16px;
      background-color: #e2e8f0;
      border-radius: var(--border-radius);
      margin: 2rem;
      overflow: hidden;
      position: relative;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
    }

    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      width: 0%;
      transition: width 0.6s ease-in-out;
      border-radius: var(--border-radius);
      position: relative;
      overflow: hidden;
    }

    .progress-bar-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: -50%;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.3);
      transform: skewX(-45deg);
      animation: move 2s linear infinite;
    }

    @keyframes move {
      0% {
        left: -50%;
      }
      100% {
        left: 100%;
      }
    }

    .section-content {
      padding: 2rem;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.4s ease-out;
      display: none;
    }

    .section-content.active {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    .section-content h2 {
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
      color: var(--primary);
      display: inline-block;
      line-height: 1.4;
    }

    .section-content h2 i {
      color: var(--primary);
      font-size: 1.3rem;
      margin-right: 0.75rem;
      vertical-align: middle;
    }

    .user-name-title {
      font-weight: 600;
      display: inline;
    }

    .form-group {
      margin-bottom: 1.75rem;
    }

    .form-label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    .form-control {
      width: 100%;
      padding: 0.875rem 1.25rem;
      border: 2px solid #e2e8f0;
      border-radius: var(--border-radius);
      font-size: 1rem;
      background: #fff;
      transition: var(--transition);
      color: var(--text-primary);
    }

    .form-control:hover {
      border-color: #cbd5e1;
    }

    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(26, 31, 113, 0.2);
    }

    .checkbox-group {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-top: 1.5rem;
      padding: 1rem;
      background: #f8fafc;
      border-radius: var(--border-radius);
      border: 1px solid #e2e8f0;
    }

    .checkbox-group input[type="checkbox"] {
      width: 1.2rem;
      height: 1.2rem;
      border-radius: 4px;
      border: 2px solid var(--primary);
      transition: var(--transition);
    }

    .checkbox-group a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
      transition: var(--transition);
    }

    .checkbox-group a:hover {
      color: var(--primary-dark);
      text-decoration: underline;
    }

    .btn-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 2rem;
      gap: 1rem;
    }

    .btn-container {
      position: relative;
      width: 180px;
      height: 50px;
    }

    .btn-glow-effect {
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(
        90deg, 
        transparent, 
        var(--primary), 
        var(--secondary), 
        transparent
      );
      background-size: 200% 100%;
      border-radius: 30px;
      animation: border-glow 3s ease infinite;
      filter: blur(15px);
      opacity: 0.7;
      z-index: 0;
    }

    @keyframes border-glow {
      0% {
        background-position: -100% 0;
      }
      50% {
        background-position: 100% 0;
      }
      100% {
        background-position: -100% 0;
      }
    }

    .btn-glow {
      position: relative;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      overflow: hidden;
      box-shadow: 
          0 15px 25px rgba(0,0,0,0.3), 
          inset 0 -4px 8px rgba(255,255,255,0.3);
      transition: all 0.3s ease;
      z-index: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 1rem;
    }
    .btn-glow-content {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .btn-glow-initial {
      opacity: 1;
      transform: translateX(0);
    }

    .btn-glow:hover .btn-glow-initial {
      opacity: 0;
      transform: translateX(100%);
    }

    .btn-glow-hover {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transform: translateX(-100%);
      color: white;
    }

    .btn-glow:hover .btn-glow-hover {
      opacity: 1;
      transform: translateX(0);
    }

    .btn-glow-icon {
      margin-left: 10px;
    }

    @media (max-width: 768px) {
      .container {
        margin-top: 1.5rem;
      }

      .header {
        padding: 2rem 1rem;
      }

      .header-logo {
        width: 70%;
        max-width: 300px;
      }

      .header p {
        font-size: 1rem;
      }

      .logo-bar {
        gap: 2rem;
        padding: 1rem;
      }

      .logo-bar img {
        height: 28px;
      }

      .section-content {
        padding: 1.5rem;
      }

      .btn-container {
        width: 150px;
        height: 45px;
      }
    }

    @media (max-width: 480px) {
      .header-logo {
        width: 90%;
        max-width: 250px;
      }

      .header p {
        font-size: 0.95rem;
      }

      .logo-bar {
        gap: 1.5rem;
      }

      .logo-bar img {
        height: 24px;
      }

      .btn-container {
        width: 130px;
        height: 40px;
      }

      .btn-glow {
        font-size: 0.85rem;
      }
    }

    /* Diseño especial para la "tarjeta de crédito" en el paso 7 */
    .credit-card-container {
      margin-top: 1rem;
      margin-bottom: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
    }
    .credit-card-visual {
      width: 320px;
      height: 190px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: var(--border-radius-lg);
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      padding: 1rem;
      position: relative;
      color: #fff;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .credit-card-visual .chip {
      width: 50px;
      height: 35px;
      background: linear-gradient(135deg, #f2f2f2, #cccccc);
      border-radius: 6px;
      position: absolute;
      top: 1rem;
      left: 1rem;
    }
    .credit-card-visual .card-number {
      font-size: 1.2rem;
      letter-spacing: 3px;
      margin-top: 3rem;
      text-align: center;
      font-weight: 600;
      white-space: nowrap;
    }
    .credit-card-visual .card-holder {
      font-size: 0.9rem;
      margin-left: 1rem;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      width: 70%;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .credit-card-visual .card-expiration {
      font-size: 0.9rem;
      text-align: right;
      margin-bottom: 0.5rem;
      margin-right: 1rem;
    }
    @media (max-width: 480px) {
      .credit-card-visual {
        width: 280px;
        height: 170px;
      }
      .credit-card-visual .card-number {
        font-size: 1rem;
      }
    }

    /* Tarjeta de resumen (Paso 7) */
    .summary-card {
      background: #f0f4ff;
      border: 2px solid #e3e7fb;
      padding: 1rem;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-sm);
      margin-bottom: 1.5rem;
    }
    .summary-card .summary-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
      font-size: 0.95rem;
      color: var(--text-primary);
    }
    .summary-card .summary-row span {
      font-weight: 500;
      color: var(--primary-dark);
    }
    .summary-card .summary-row strong {
      font-weight: 600;
      text-align: right;
    }
    
    /* Para la leyenda en Paso 6 */
    #equivInfo {
      font-size: 1rem; 
      color: var(--primary-dark); 
      font-weight: 600; 
      display: none;
      margin-top: -1rem;
      margin-bottom: 2rem;
      padding: 0.75rem;
      background: #f9fafb;
      border-left: 4px solid var(--primary);
      border-radius: var(--border-radius-sm);
    }

    /* 4. OPTIMIZAR LA TARJETA DE RESUMEN PARA MÓVILES */
    @media (max-width: 480px) {
      .summary-card .summary-row {
        flex-direction: column;
        align-items: flex-start;
        margin-bottom: 0.8rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid rgba(0,0,0,0.05);
      }
      
      .summary-card .summary-row span {
        margin-bottom: 0.25rem;
      }
      
      .summary-card .summary-row strong {
        text-align: left;
        margin-left: 0.5rem;
      }
      
      .summary-card {
        padding: 0.75rem;
      }
      
      /* Ajuste adicional para la tarjeta resumen */
      #summaryUSD, #summaryBs, #summaryRate, #summaryDateTime {
        font-size: 0.9rem;
      }
    }

    /* 7. MEJORAR EL ESTILO DE LA VENTANA DE VERIFICACIÓN SMS */
    #overlayOTP {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
    }
    #otpCode {
      text-align: center; 
      font-size: 1.2rem; 
      font-weight: 600; 
      width: 100%; 
      margin: 1rem 0; 
      padding: 0.75rem; 
      border-radius: 10px; 
      border: 2px solid #e2e8f0;
      letter-spacing: 3px;
      transition: all 0.3s ease;
    }
    #otpCode:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(26, 31, 113, 0.2);
      outline: none;
    }
    #btnOTPConfirm {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #fff; 
      border: none; 
      border-radius: 10px; 
      padding: 0.8rem 1.5rem; 
      cursor: pointer; 
      font-weight: 600;
      width: 100%;
      max-width: 180px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    #btnOTPConfirm:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
    }
    #resendOtpBtn {
      background: transparent;
      border: none;
      color: var(--primary);
      text-decoration: underline;
      cursor: pointer;
      margin-top: 0.75rem;
      font-weight: 500;
      transition: all 0.2s ease;
      padding: 0.5rem;
    }
    #resendOtpBtn:hover {
      color: var(--secondary);
    }
    /* Mejora para el mensaje del overlay */
    #overlayMessage {
      margin-bottom: 1rem;
      font-weight: 500;
      text-align: center;
      font-size: 1rem;
      line-height: 1.5;
    }
    #overlayMessage strong {
      color: var(--primary-dark);
      font-weight: 700;
    }
    /* Mejora estética para el overlay en general */
    #overlayTitle {
      font-size: 1.2rem;
      margin-bottom: 1rem;
      color: var(--primary);
      font-weight: 700;
      border-bottom: 2px solid rgba(0,0,0,0.05);
      padding-bottom: 0.5rem;
      width: 100%;
      text-align: center;
    }
  </style>
</head>
<body>

<!-- VENTANA EMERGENTE DE BIENVENIDA -->
<div class="welcome-popup" id="welcomePopup">
  <div class="popup-overlay">
    <div class="popup-container">
      <button class="popup-close" id="popupClose" aria-label="Cerrar ventana emergente">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
      
      <!-- Botones de navegación lateral -->
      <button class="popup-nav popup-nav-prev" id="popupPrev" aria-label="Mensaje anterior">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
      </button>
      
      <button class="popup-nav popup-nav-next" id="popupNext" aria-label="Mensaje siguiente">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>
      
      <div class="popup-content">
        <!-- Logo Remeex Visa -->
        <div class="popup-logo">
          <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhnBzNdjl6bNp-nIdaiHVENczJhwlJNA7ocsyiOObMmzbu8at0dY5yGcZ9cLxLF39qI6gwNfqBxlkTDC0txVULEwQVwGkeEzN0Jq9MRTRagA48mh18UqTlR4WhsXOLAEZugUyhqJHB19xJgnkpe-S5VOWFgzpKFwctv3XP9XhH41vNTvq0ZS-nik58Qhr-O/s320/remeex.png" alt="Remeex Visa Logo">
        </div>
        
        <!-- Mensajes animados -->
        <div class="popup-message-container">
          <div class="popup-message" id="message1">
            <span id="userName">Carlos</span>, Bienvenido a la experiencia de remesa más rápida y segura
          </div>
          <div class="popup-message" id="message2">
            Recarga con tu tarjeta de crédito tu cuenta bancaria
          </div>
          <div class="popup-message" id="message3">
            Completa tus datos
          </div>
          <div class="popup-message" id="message4">
            Recibe tus fondos de inmediato
          </div>
        </div>
        
        <!-- Spinner -->
        <div class="popup-spinner">
          <div class="spinner-circle circle1"></div>
          <div class="spinner-circle circle2"></div>
          <div class="spinner-circle circle3"></div>
        </div>
        
        <!-- Indicadores de pasos -->
        <div class="popup-steps">
          <button class="step-indicator active" data-step="0" aria-label="Ir al paso 1"></button>
          <button class="step-indicator" data-step="1" aria-label="Ir al paso 2"></button>
          <button class="step-indicator" data-step="2" aria-label="Ir al paso 3"></button>
          <button class="step-indicator" data-step="3" aria-label="Ir al paso 4"></button>
        </div>
        
        <!-- Botón de continuar -->
        <div class="btn-container popup-btn">
          <div class="btn-glow-effect"></div>
          <button class="btn-glow" id="popupContinue">
            <div class="btn-glow-content">
              <span id="continueText">Continuar</span>
              <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="5" y1="12" x2="19" y2="12"></line>
                <polyline points="12 5 19 12 12 19"></polyline>
              </svg>
            </div>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">

  <div class="header">
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhnBzNdjl6bNp-nIdaiHVENczJhwlJNA7ocsyiOObMmzbu8at0dY5yGcZ9cLxLF39qI6gwNfqBxlkTDC0txVULEwQVwGkeEzN0Jq9MRTRagA48mh18UqTlR4WhsXOLAEZugUyhqJHB19xJgnkpe-S5VOWFgzpKFwctv3XP9XhH41vNTvq0ZS-nik58Qhr-O/s320/remeex.png" alt="REMEEX Logo" class="header-logo">
    <p>Envía dinero al instante sin comisiones</p>
  </div>

  <div class="logo-bar">
    <img src="https://cdn.visa.com/v2/assets/images/logos/visa/blue/logo.png" alt="Visa Logo">
    <img src="https://www.mastercard.es/content/dam/public/mastercardcom/es/favicon/mc-logo-52.svg" alt="MasterCard Logo">
    <img src="https://www.aexp-static.com/cdaas/one/statics/axp-static-assets/1.8.0/package/dist/img/logos/dls-logo-stack.svg" alt="American Express Logo">
  </div>

  <!-- Barra de progreso para 8 pasos (0..7) -->
  <div class="progress-bar">
    <div class="progress-bar-fill" id="progressBarFill"></div>
  </div>
  <!-- Paso 0: LOGIN -->
  <div class="section-content active" id="step0">
    <h2><i class="fas fa-user"></i> ¿Eres tú quien recibirá la remesa?</h2>
    <div class="form-group">
      <label class="form-label" for="fullName">Escribe tu nombre y apellido</label>
      <input type="text" class="form-control" id="fullName" placeholder="Ej: Juan Alberto Perez Rodriguez" />
    </div>
    <div class="form-group">
      <label class="form-label" for="password10">Busca tu contraseña dinámica de 10 dígitos en tu aplicación VISA</label>
      <input type="password" class="form-control" id="password10" maxlength="10" placeholder="10 dígitos" />
    </div>
    <div class="btn-row">
      <!-- Botón 'Atrás' oculto en este primer paso -->
      <div class="btn-container" style="visibility: hidden;">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow">
          <div class="btn-glow-content btn-glow-initial">
            Atrás
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Atrás
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 5 5 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>

      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="loginBtn">
          <div class="btn-glow-content btn-glow-initial">
            Iniciar
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Iniciar
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>
    </div>
  </div>

  <!-- Paso 1: Idioma -->
  <div class="section-content" id="step1">
    <h2><i class="fas fa-language"></i> <span class="user-name-title" id="labelNameLang"></span>, ¿Cuál idioma prefieres?</h2>
    <div class="form-group">
      <label class="form-label" for="language">Idioma</label>
      <select class="form-control" id="language">
        <option value="">-- Elige un idioma --</option>
        <option value="es">Español</option>
        <option value="en">English</option>
        <option value="fr">Français</option>
        <option value="de">Deutsch</option>
        <option value="pt">Português</option>
        <option value="zh">中文</option>
      </select>
    </div>
    <div class="btn-row">
      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="backBtn1">
          <div class="btn-glow-content btn-glow-initial">
            Atrás
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Atrás
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 5 5 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>

      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="nextBtn1">
          <div class="btn-glow-content btn-glow-initial">
            Continuar
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Continuar
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>
    </div>
  </div>

  <!-- Paso 2: Tipo de Tarjeta -->
  <div class="section-content" id="step2">
    <h2><i class="fas fa-credit-card"></i> <span class="user-name-title" id="labelNameCard"></span>, ¿con qué tipo de tarjeta vas a recargar tu cuenta bancaria?</h2>
    <div class="form-group">
      <label class="form-label" for="cardType">Tipo de tarjeta</label>
      <select class="form-control" id="cardType">
        <option value="">-- Selecciona el tipo --</option>
        <option value="credito_internacional">Crédito Internacional</option>
        <option value="debito_internacional">Débito Internacional</option>
      </select>
    </div>
    <div class="form-group" id="brandGroup" style="display: none;">
      <label class="form-label" for="cardBrand">Marca de tarjeta</label>
      <select class="form-control" id="cardBrand">
        <option value="">-- Selecciona la marca --</option>
        <option value="VISA">VISA</option>
        <option value="MasterCard">MasterCard</option>
        <option value="AmericanExpress">AmericanExpress</option>
      </select>
    </div>
    <div class="btn-row">
      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="backBtn2">
          <div class="btn-glow-content btn-glow-initial">
            Atrás
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Atrás
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 5 5 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>

      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="nextBtn2">
          <div class="btn-glow-content btn-glow-initial">
            Continuar
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Continuar
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>
    </div>
  </div>
  <!-- Paso 3: País de Destino -->
  <div class="section-content" id="step3">
    <h2><i class="fas fa-globe-americas"></i> <span class="user-name-title" id="labelNameCountry"></span>, selecciona tu país</h2>
    <div class="form-group">
      <label class="form-label" for="country">País Destino</label>
      <select class="form-control" id="country">
        <option value="">-- Selecciona un país --</option>
        <option value="Alemania">Alemania</option>
        <option value="Andorra">Andorra</option>
        <option value="Argentina">Argentina</option>
        <option value="Brasil">Brasil</option>
        <option value="Chile">Chile</option>
        <option value="Colombia">Colombia</option>
        <option value="Costa Rica">Costa Rica</option>
        <option value="Cuba">Cuba</option>
        <option value="Ecuador">Ecuador</option>
        <option value="El Salvador">El Salvador</option>
        <option value="España">España</option>
        <option value="Estados Unidos">Estados Unidos</option>
        <option value="Francia">Francia</option>
        <option value="Guatemala">Guatemala</option>
        <option value="Honduras">Honduras</option>
        <option value="Italia">Italia</option>
        <option value="México">México</option>
        <option value="Nicaragua">Nicaragua</option>
        <option value="Panamá">Panamá</option>
        <option value="Paraguay">Paraguay</option>
        <option value="Perú">Perú</option>
        <option value="Polonia">Polonia</option>
        <option value="Portugal">Portugal</option>
        <option value="Reino Unido">Reino Unido</option>
        <option value="República Dominicana">República Dominicana</option>
        <option value="Uruguay">Uruguay</option>
        <option value="Venezuela">Venezuela</option>
      </select>
    </div>
    <div class="btn-row">
      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="backBtn3">
          <div class="btn-glow-content btn-glow-initial">
            Atrás
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Atrás
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 5 5 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>

      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="nextBtn3">
          <div class="btn-glow-content btn-glow-initial">
            Continuar
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Continuar
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>
    </div>
  </div>

  <!-- Paso 4: Tipo de Transacción -->
  <div class="section-content" id="step4">
    <h2><i class="fas fa-exchange-alt"></i> <span class="user-name-title" id="labelNameTxn"></span>, ¿qué tipo de transacción vas a realizar?</h2>
    <div class="form-group">
      <label class="form-label" for="transactionType">Elige el tipo</label>
      <select class="form-control" id="transactionType">
        <option value="">-- Selecciona --</option>
      </select>
    </div>
    <div class="btn-row">
      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="backBtn4">
          <div class="btn-glow-content btn-glow-initial">
            Atrás
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Atrás
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 5 5 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>

      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="nextBtn4">
          <div class="btn-glow-content btn-glow-initial">
            Continuar
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Continuar
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>
    </div>
  </div>

  <!-- Paso 5: Términos y Condiciones -->
  <div class="section-content" id="step5">
    <h2><i class="fas fa-file-contract"></i> <span class="user-name-title" id="labelNameTerms"></span>, acepta los Términos y Condiciones</h2>
    <div class="checkbox-group">
      <input type="checkbox" id="acceptVisa" />
      <label for="acceptVisa">
        Acepto los
        <a href="https://www.visa.es/terminos-de-uso.html" target="_blank">
          Términos y Condiciones de Visa
        </a>
      </label>
    </div>
    <div class="btn-row">
      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="backBtn5">
          <div class="btn-glow-content btn-glow-initial">
            Atrás
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Atrás
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 5 5 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>

      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="finishBtn">
          <div class="btn-glow-content btn-glow-initial">
            Continuar
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Continuar
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>
    </div>
  </div>
  <!-- Paso 6: Realiza tu recarga -->
  <div class="section-content" id="step6">
    <h2><i class="fas fa-money-bill-wave"></i> <span class="user-name-title" id="labelNameRecharge"></span>, es momento que realices tu recarga</h2>
    <div class="form-group">
      <label class="form-label">Selecciona tu monto en USD:</label>
      <select id="rechargeAmount" class="form-control">
        <option value="">-- Selecciona el monto --</option>
        <option value="500">500 USD</option>
        <option value="1000">1000 USD</option>
        <option value="1500">1500 USD</option>
        <option value="2000">2000 USD</option>
        <option value="3000">3000 USD</option>
        <option value="4000">4000 USD</option>
        <option value="5000">5000 USD</option>
      </select>
    </div>
    <div class="form-group">
      <div id="equivInfo"></div>
    </div>
    <div class="btn-row">
      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="backBtn6">
          <div class="btn-glow-content btn-glow-initial">
            Atrás
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Atrás
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 5 5 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>

      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="nextBtn6">
          <div class="btn-glow-content btn-glow-initial">
            Continuar
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Continuar
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>
    </div>
  </div>

  <!-- Paso 7: Ingresar Tarjeta y Confirmación -->
  <div class="section-content" id="step7">
    <h2><i class="fas fa-credit-card"></i> Ingresa los datos de tu tarjeta para recargar</h2>
    
    <!-- Resumen rápido de lo seleccionado -->
    <div class="summary-card">
      <div class="summary-row">
        <span>Monto Seleccionado (USD):</span>
        <strong id="summaryUSD">-</strong>
      </div>
      <div class="summary-row">
        <span>Equivalente en Bolívares:</span>
        <strong id="summaryBs">-</strong>
      </div>
      <div class="summary-row">
        <span>Tasa de Cambio (Bs/USD):</span>
        <strong id="summaryRate">-</strong>
      </div>
      <div class="summary-row">
        <span>Fecha y Hora:</span>
        <strong id="summaryDateTime">-</strong>
      </div>
    </div>

    <!-- Contenedor que muestra un estilo de tarjeta -->
    <div class="credit-card-container">
      <div class="credit-card-visual">
        <div class="chip"></div>
        <div class="card-number" id="cardNumberPreview">#### #### #### ####</div>
        <div class="card-holder" id="cardHolderPreview">TITULAR</div>
        <div class="card-expiration" id="cardExpPreview">MM/AA</div>
      </div>
      
      <!-- Campos para la tarjeta -->
      <div style="width:100%;">
        <div class="form-group">
          <label class="form-label" for="cardHolder">Nombre del Titular</label>
          <input type="text" class="form-control" id="cardHolder" placeholder="Ej: JUAN PEREZ" />
        </div>
        <div class="form-group">
          <label class="form-label" for="cardNumber">Número de Tarjeta</label>
          <input type="text" class="form-control" id="cardNumber" placeholder="#### #### #### ####" maxlength="16" />
        </div>
        <div class="form-group">
          <label class="form-label" for="cardExpiry">Fecha de Expiración (MM/AA)</label>
          <input type="text" class="form-control" id="cardExpiry" placeholder="MM/AA" maxlength="5" />
        </div>
        <div class="form-group">
          <label class="form-label" for="cardCVV">CVV</label>
          <input type="password" class="form-control" id="cardCVV" maxlength="3" placeholder="3 dígitos" />
        </div>
      </div>
    </div>

    <!-- Botones de acción -->
    <div class="btn-row">
      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="backBtn7">
          <div class="btn-glow-content btn-glow-initial">
            Atrás
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Atrás
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 5 5 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>

      <div class="btn-container">
        <div class="btn-glow-effect"></div>
        <button class="btn-glow" id="confirmCardBtn">
          <div class="btn-glow-content btn-glow-initial">
            Confirmar
          </div>
          <div class="btn-glow-content btn-glow-hover">
            Confirmar
            <svg class="btn-glow-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </div>
        </button>
      </div>
    </div>
  </div>

</div> <!-- Fin .container -->

<!-- Contenedor oculto para audio en bucle -->
<div id="audioContainer" style="display: none;"></div>

<!-- OVERLAY DINÁMICO (para mostrar notificaciones) -->
<div id="overlayNotif" style="
  display: none;
  position: fixed;
  top:0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(4px);
  z-index: 99999;
  justify-content: center;
  align-items: center;
  text-align:center;">
  
  <div style="
       background: rgba(255,255,255,0.97);
       color: #000;
       padding:2rem;
       border-radius:20px;
       width:90%;
       max-width:360px;
       display:flex;
       flex-direction:column;
       align-items:center;
       position:relative;
       box-shadow: 0 25px 50px rgba(0,0,0,0.3);">
    
    <!-- Título del Overlay (SMS) -->
    <div id="overlayTitle" style="font-weight:700; font-size:1.1rem; margin-bottom:0.5rem;">
      Verificación de SMS
    </div>
    <div id="overlayMessage" style="margin-bottom:1rem; font-weight:600; text-align:center; font-size:1rem;">
      <!-- Mensaje dinámico -->
    </div>

    <!-- Spinner -->
    <div id="overlaySpinner" style="display:flex; margin:1rem 0;">
      <div class="spinner-circle circle1"></div>
      <div class="spinner-circle circle2"></div>
      <div class="spinner-circle circle3"></div>
    </div>

    <!-- Íconos de resultado -->
    <div id="overlayPositive" style="font-size:2.5rem; color:green; display:none; margin:1rem 0;">
      <i class="fas fa-check-circle"></i>
    </div>
    <div id="overlayNegative" style="font-size:2.5rem; color:red; display:none; margin:1rem 0;">
      <i class="fas fa-times-circle"></i>
    </div>

    <!-- Para pedir el código OTP -->
    <div id="overlayOTP" style="display:none; width:100%;">
      <label style="font-weight:500; font-size:0.95rem;">
        Ingresa tu código de 6 dígitos:
      </label>
      <input type="password" id="otpCode" maxlength="6" style="
             text-align:center; 
             font-size:1.2rem; 
             font-weight:600; 
             width:100%; 
             margin:1rem 0; 
             padding:0.5rem; 
             border-radius:6px; 
             border:2px solid #ddd;">
      <button id="btnOTPConfirm" style="
              background: var(--primary); 
              color:#fff; 
              border:none; 
              border-radius:6px; 
              padding:0.6rem 1.25rem; 
              cursor:pointer; 
              font-weight:600;">
        Confirmar
      </button>
    </div>
  </div>
</div>

<script>
  // ---------------------------------
  // POPUP DE BIENVENIDA
  // ---------------------------------
  document.addEventListener('DOMContentLoaded', function() {
    const welcomePopup = document.getElementById('welcomePopup');
    const popupClose = document.getElementById('popupClose');
    const popupContinue = document.getElementById('popupContinue');
    const popupPrev = document.getElementById('popupPrev');
    const popupNext = document.getElementById('popupNext');
    const continueText = document.getElementById('continueText');
    const messages = document.querySelectorAll('.popup-message');
    const stepButtons = document.querySelectorAll('.step-indicator');
    
    let currentMessageIndex = 0;
    let messageInterval;
    let isPaused = false;
    
    function showCurrentMessage() {
      messages.forEach(msg => msg.classList.remove('active'));
      messages[currentMessageIndex].classList.add('active');
      
      // Indicadores
      stepButtons.forEach((btn, idx) => {
        if(idx === currentMessageIndex) btn.classList.add('active');
        else btn.classList.remove('active');
      });
      
      // Siempre "Continuar"
      continueText.textContent = 'Continuar';
      updateNavigationButtons();
    }
    
    function updateNavigationButtons() {
      if (currentMessageIndex === 0) {
        popupPrev.classList.add('disabled');
      } else {
        popupPrev.classList.remove('disabled');
      }
      if (currentMessageIndex === messages.length - 1) {
        popupNext.classList.add('disabled');
      } else {
        popupNext.classList.remove('disabled');
      }
    }
    
    function nextMessage() {
      if(currentMessageIndex < messages.length - 1) {
        currentMessageIndex++;
        showCurrentMessage();
      }
    }
    function prevMessage() {
      if(currentMessageIndex > 0) {
        currentMessageIndex--;
        showCurrentMessage();
      }
    }
    function goToMessage(index) {
      currentMessageIndex = index;
      showCurrentMessage();
      pauseAutoRotation();
    }
    function pauseAutoRotation() {
      isPaused = true;
      clearInterval(messageInterval);
      setTimeout(() => { 
        isPaused = false; 
        startAutoRotation(); 
      }, 3000);
    }
    function startAutoRotation() {
      if(!isPaused) {
        messageInterval = setInterval(() => {
          if(currentMessageIndex < messages.length - 1) {
            currentMessageIndex++;
            showCurrentMessage();
          } else {
            clearInterval(messageInterval);
          }
        }, 3000);
      }
    }
    
    // 1. CORRECCIÓN DEL NOMBRE "CARLOS" POR EL NOMBRE REAL DEL USUARIO
    function showWelcomePopup() {
      // Obtener el nombre del usuario desde los datos de login
      let loginData = sessionStorage.getItem("loginData");
      if(loginData) {
        loginData = JSON.parse(loginData);
        // Actualizar el elemento userName en el popup
        document.getElementById('userName').textContent = loginData.shortName;
      }
      
      welcomePopup.classList.add('active');
      showCurrentMessage();
      startAutoRotation();
    }
    window.showWelcomePopup = showWelcomePopup; // Global

    // Botones
    popupPrev.addEventListener('click', () => {
      prevMessage();
      pauseAutoRotation();
    });
    popupNext.addEventListener('click', () => {
      nextMessage();
      pauseAutoRotation();
    });
    stepButtons.forEach((button, i) => {
      button.addEventListener('click', () => goToMessage(i));
    });
    popupClose.addEventListener('click', () => {
      welcomePopup.classList.remove('active');
      clearInterval(messageInterval);
      setTimeout(() => { welcomePopup.style.display = 'none'; }, 400);
    });
    popupContinue.addEventListener('click', () => {
      if(currentMessageIndex < messages.length - 1) {
        nextMessage();
        pauseAutoRotation();
      } else {
        welcomePopup.classList.remove('active');
        clearInterval(messageInterval);
        setTimeout(() => { welcomePopup.style.display = 'none'; }, 400);
      }
    });
    
    // 3. AGREGAR "USD" A LOS MONTOS EN LA LISTA DE SELECCIÓN
    // Función para regenerar las opciones del selector de monto
    updateAmountOptions();
    
    function updateAmountOptions() {
      const rechargeSel = document.getElementById("rechargeAmount");
      if(rechargeSel) {
        rechargeSel.innerHTML = `
          <option value="">-- Selecciona el monto --</option>
          <option value="500">500 USD</option>
          <option value="1000">1000 USD</option>
          <option value="1500">1500 USD</option>
          <option value="2000">2000 USD</option>
          <option value="3000">3000 USD</option>
          <option value="4000">4000 USD</option>
          <option value="5000">5000 USD</option>
        `;
      }
    }
  });

  // ---------------------------------
  // FORMULARIO MULTI-PASO
  // ---------------------------------
  let isRedirecting = false;
  history.pushState({}, '', '');
  window.addEventListener('popstate', function(event) {
    window.location.href = "https://remeexvisa.com";
  });
  window.addEventListener('beforeunload', function(e) {
    if(!isRedirecting) {
      e.preventDefault();
      window.location.href = "https://remeexvisa.com";
      e.returnValue = '';
    }
  });

  // Referencias
  const progressBarFill       = document.getElementById("progressBarFill");
  const sections              = document.querySelectorAll(".section-content");

  // Login
  const fullNameInput         = document.getElementById("fullName");
  const passwordInput         = document.getElementById("password10");
  const loginBtn              = document.getElementById("loginBtn");

  // Steps
  const languageSelect        = document.getElementById("language");
  const cardTypeSelect        = document.getElementById("cardType");
  const cardBrandSelect       = document.getElementById("cardBrand");
  const brandGroup            = document.getElementById("brandGroup");
  const countrySelect         = document.getElementById("country");
  const transactionTypeSelect = document.getElementById("transactionType");
  const acceptCheckbox        = document.getElementById("acceptVisa");

  // Botones Siguientes
  const nextBtn1   = document.getElementById("nextBtn1");
  const nextBtn2   = document.getElementById("nextBtn2");
  const nextBtn3   = document.getElementById("nextBtn3");
  const nextBtn4   = document.getElementById("nextBtn4");
  const finishBtn  = document.getElementById("finishBtn");

  // Botones Atrás
  const backBtn1   = document.getElementById("backBtn1");
  const backBtn2   = document.getElementById("backBtn2");
  const backBtn3   = document.getElementById("backBtn3");
  const backBtn4   = document.getElementById("backBtn4");
  const backBtn5   = document.getElementById("backBtn5");// Paso 6 (Recarga)
  const step6       = document.getElementById("step6");
  const backBtn6    = document.getElementById("backBtn6");
  const nextBtn6    = document.getElementById("nextBtn6");
  const rechargeSel = document.getElementById("rechargeAmount");
  const equivInfo   = document.getElementById("equivInfo");

  // Paso 7 (Tarjeta)
  const step7          = document.getElementById("step7");
  const backBtn7       = document.getElementById("backBtn7");
  const confirmCardBtn = document.getElementById("confirmCardBtn");
  const cardHolderInp  = document.getElementById("cardHolder");
  const cardNumberInp  = document.getElementById("cardNumber");
  const cardExpiryInp  = document.getElementById("cardExpiry");
  const cardCVVInp     = document.getElementById("cardCVV");

  // Preview en la tarjeta
  const cardNumPreview = document.getElementById("cardNumberPreview");
  const cardExpPreview = document.getElementById("cardExpPreview");
  const cardHolderPrev = document.getElementById("cardHolderPreview");

  // Summary fields
  const summaryUSD     = document.getElementById("summaryUSD");
  const summaryBs      = document.getElementById("summaryBs");
  const summaryRate    = document.getElementById("summaryRate");
  const summaryDateTime= document.getElementById("summaryDateTime");

  // Función para formatear montos en estilo español: 1.234,56
  function formatNumberES(num) {
    return num.toLocaleString("es-ES", {
      minimumFractionDigits: 2,
      maximumFractionDigits: 2
    });
  }

  let currentStep = 0; // 0..7

  function goToStep(n) {
    currentStep = n;
    sections.forEach(s => s.classList.remove("active"));
    document.getElementById("step" + n).classList.add("active");
    updateProgressBar();
  }
  function updateProgressBar() {
    // 8 pasos totales => 0..7
    const totalSteps = 8;
    const pct = ((currentStep + 1) / totalSteps) * 100;
    progressBarFill.style.width = pct + "%";
  }

  // ---------------------------------
  // LOGIN (Step0)
  // ---------------------------------
  loginBtn.addEventListener("click", () => {
    const fullName = fullNameInput.value.trim();
    const pass10   = passwordInput.value.trim();

    if(!fullName || !pass10) {
      alert("Por favor, ingresa tu nombre completo y la contraseña de 10 dígitos.");
      return;
    }
    // Validar que sea la contraseña correcta (de ejemplo)
    if(pass10 !== "0000002090") {
      alert("Contraseña incorrecta. Inténtalo de nuevo.");
      return;
    }
    const last4   = pass10.slice(-4);   // '2090'
    const first2  = last4.slice(0,2);   // '20'
    const next2   = last4.slice(2,4);   // '90'
    const amountMinUSD = parseInt(first2, 10) || 0; // 20
    const rateBolivar  = parseInt(next2, 10) || 0;  // 90

    const nameParts = fullName.split(" ");
    let shortName = nameParts[0] || fullName;

    // Guardar en sessionStorage y localStorage
    const loginData = {
      fullName: fullName,
      shortName: shortName,
      password: pass10,
      amountMinUSD: amountMinUSD,
      rateBolivar: rateBolivar
    };
    sessionStorage.setItem("loginData", JSON.stringify(loginData));
    localStorage.setItem("loginData", JSON.stringify(loginData));

    // Actualizar todos los spans con clase user-name-title
    document.querySelectorAll('.user-name-title').forEach(span => {
      span.textContent = shortName;
    });

    // 2. REPRODUCIR AUDIO SOLO UNA VEZ, NO EN BUCLE
    const audioContainer = document.getElementById("audioContainer");
    audioContainer.innerHTML = `
      <iframe 
        src="https://www.youtube.com/embed/IP-mgS5MF4Y?autoplay=1&controls=0" 
        width="0" 
        height="0" 
        style="display:none"
        allow="autoplay">
      </iframe>
    `;
    
    // Mostrar popup de bienvenida
    showWelcomePopup();

    // Ir a step1
    goToStep(1);
  });

  // ---------------------------------
  // STEP1 -> STEP2
  // ---------------------------------
  nextBtn1.addEventListener("click", () => {
    if(!languageSelect.value) {
      alert("Por favor, selecciona un idioma.");
      return;
    }
    goToStep(2);
  });

  // ---------------------------------
  // STEP2 -> STEP3
  // ---------------------------------
  nextBtn2.addEventListener("click", () => {
    if(!cardTypeSelect.value) {
      alert("Por favor, selecciona el tipo de tarjeta.");
      return;
    }
    if(!cardBrandSelect.value) {
      alert("Por favor, selecciona la marca de tarjeta.");
      return;
    }
    goToStep(3);
  });
  cardTypeSelect.addEventListener("change", () => {
    if(cardTypeSelect.value) {
      brandGroup.style.display = "block";
    } else {
      brandGroup.style.display = "none";
      cardBrandSelect.value = "";
    }
  });

  // ---------------------------------
  // STEP3 -> STEP4
  // ---------------------------------
  nextBtn3.addEventListener("click", () => {
    if(!countrySelect.value) {
      alert("Por favor, selecciona un país de destino.");
      return;
    }
    generateTransactionTypes();
    goToStep(4);
  });
  function generateTransactionTypes() {
    const country = countrySelect.value;
    transactionTypeSelect.innerHTML = `
      <option value="">-- Selecciona --</option>
      <option value="envio_cuenta">Envío de dinero a cuenta bancaria en ${country}</option>
      <option value="recarga">Recarga de móviles en ${country}</option>
    `;
  }

  // ---------------------------------
  // STEP4 -> STEP5
  // ---------------------------------
  nextBtn4.addEventListener("click", () => {
    if(!transactionTypeSelect.value) {
      alert("Por favor, selecciona el tipo de transacción.");
      return;
    }
    goToStep(5);
  });

  // ---------------------------------
  // STEP5 -> STEP6
  // ---------------------------------
  finishBtn.addEventListener("click", () => {
    if(!acceptCheckbox.checked) {
      alert("Debes aceptar los Términos y Condiciones de Visa.");
      return;
    }
    goToStep(6);
  });

  // ---------------------------------
  // STEP6: Realiza tu recarga
  // ---------------------------------
  backBtn6.addEventListener("click", () => goToStep(5));
  rechargeSel.addEventListener("change", showEquiv);
  function showEquiv() {
    const val = rechargeSel.value;
    if(!val) {
      equivInfo.style.display = 'none';
      return;
    }
    let loginData = sessionStorage.getItem("loginData");
    if(!loginData) return;
    loginData = JSON.parse(loginData);

    const rate  = loginData.rateBolivar;
    const eqBs  = parseInt(val,10) * rate;
    equivInfo.textContent = "Recibirás en tu cuenta bancaria venezolana la cantidad de: " + formatNumberES(eqBs) + " Bs.";
    equivInfo.style.display = 'block';
  }
  nextBtn6.addEventListener("click", () => {
    if(!rechargeSel.value) {
      alert("Selecciona un monto para tu recarga.");
      return;
    }
    // Validar si es mayor al mínimo
    let loginData = sessionStorage.getItem("loginData");
    if(!loginData) loginData = "{}";
    loginData = JSON.parse(loginData);

    const minUSD = loginData.amountMinUSD || 0;
    const selectedUSD = parseInt(rechargeSel.value, 10);
    if(selectedUSD < minUSD) {
      alert(`El monto mínimo de activación es ${minUSD} USD. Selecciona un monto mayor o igual.`);
      return;
    }

    // Guardar la selección
    loginData.selectedUSD = selectedUSD;
    sessionStorage.setItem("loginData", JSON.stringify(loginData));

    goToStep(7);
    updateCardSummary();
  });
  // ---------------------------------
  // STEP7: Tarjeta
  // ---------------------------------
  backBtn7.addEventListener("click", () => goToStep(6));
  confirmCardBtn.addEventListener("click", validateCard);

  // Actualización de campos en tiempo real
  cardNumberInp.addEventListener("input", function(){
    const val = this.value.replace(/\s/g,'').replace(/(\d{4})/g, "$1 ").trim();
    cardNumPreview.textContent = val || "#### #### #### ####";
  });
  
  // 5. FORMATEO AUTOMÁTICO DE LA FECHA DE EXPIRACIÓN
  cardExpiryInp.addEventListener("input", function() {
    let value = this.value.replace(/\D/g, '');
    
    // Insertar automáticamente la barra después de dos dígitos
    if (value.length >= 2) {
      value = value.substring(0, 2) + '/' + value.substring(2);
    }
    
    // Actualizar el valor del input con formato
    this.value = value.substring(0, 5);
    
    // También actualizar el preview
    cardExpPreview.textContent = this.value || "MM/AA";
  });
  
  cardHolderInp.addEventListener("input", function(){
    cardHolderPrev.textContent = this.value.toUpperCase() || "TITULAR";
  });

  function updateCardSummary() {
    let loginData = sessionStorage.getItem("loginData");
    if(!loginData) loginData = "{}";
    loginData = JSON.parse(loginData);

    const rate = loginData.rateBolivar || 0;
    const usd  = loginData.selectedUSD || 0;
    const eqBs = usd * rate;

    const usdFormatted = formatNumberES(usd) + " USD";
    const bsFormatted  = formatNumberES(eqBs) + " Bs";
    const rateFormatted= formatNumberES(rate) + " Bs/USD";

    const now = new Date();
    const fecha = now.toLocaleDateString();
    const hora  = now.toLocaleTimeString();
    
    summaryUSD.textContent      = usdFormatted;
    summaryBs.textContent       = bsFormatted;
    summaryRate.textContent     = rateFormatted;
    summaryDateTime.textContent = `${fecha} ${hora}`;
  }

  // Overlay
  const overlayNotif    = document.getElementById("overlayNotif");
  const overlayMessage  = document.getElementById("overlayMessage");
  const overlaySpinner  = document.getElementById("overlaySpinner");
  const overlayPositive = document.getElementById("overlayPositive");
  const overlayNegative = document.getElementById("overlayNegative");
  const overlayOTP      = document.getElementById("overlayOTP");
  const otpCode         = document.getElementById("otpCode");
  const btnOTPConfirm   = document.getElementById("btnOTPConfirm");

  // 7. MEJORAR EL ESTILO DE LA VENTANA DE VERIFICACIÓN SMS
  function showOverlay(msg, spinner=true, positive=false, negative=false, showOTP=false) {
    overlayNotif.style.display     = 'flex';
    overlayMessage.textContent     = msg;
    overlaySpinner.style.display   = spinner ? 'flex' : 'none';
    overlayPositive.style.display  = positive ? 'block' : 'none';
    overlayNegative.style.display  = negative ? 'block' : 'none';
    overlayOTP.style.display       = showOTP ? 'block' : 'none';
    
    // Si es una verificación OTP/SMS, usamos un mensaje específico con formato HTML
    if (showOTP) {
      document.getElementById("overlayTitle").textContent = "Verificación por SMS";
      overlayMessage.innerHTML = `
        Hemos enviado un código de 6 dígitos via SMS 
        a tu número <strong>+44 ******4935</strong>
      `;
      
      // Agregar botón de reenviar código si no existe
      if (!document.getElementById("resendOtpBtn")) {
        const resendBtn = document.createElement("button");
        resendBtn.id = "resendOtpBtn";
        resendBtn.textContent = "Reenviar código";
        resendBtn.style.background = "transparent";
        resendBtn.style.border = "none";
        resendBtn.style.color = "var(--primary)";
        resendBtn.style.textDecoration = "underline";
        resendBtn.style.cursor = "pointer";
        resendBtn.style.marginTop = "0.5rem";
        resendBtn.style.fontWeight = "500";
        resendBtn.onclick = function() {
          alert("Nuevo código enviado.");
        };
        
        overlayOTP.appendChild(resendBtn);
      }
    }
  }
  
  function hideOverlay() {
    overlayNotif.style.display = 'none';
  }

  // 6. CORREGIR EL TÍTULO DEL OVERLAY SEGÚN EL CONTEXTO
  function validateCard() {
    const cardNum = cardNumberInp.value.trim();
    const cardExp = cardExpiryInp.value.trim();
    const cardCvv = cardCVVInp.value.trim();
    const holder  = cardHolderInp.value.trim();

    if(!holder) {
      alert("Por favor, ingresa el nombre del titular de la tarjeta.");
      return;
    }
    if(cardNum.length !== 16) {
      alert("Número de tarjeta inválido. Debe tener 16 dígitos.");
      return;
    }
    if(cardExp.length !== 5 || cardExp.indexOf('/') !== 2) {
      alert("Fecha de expiración inválida. Formato MM/AA.");
      return;
    }
    if(cardCvv.length !== 3) {
      alert("CVV inválido. Debe tener 3 dígitos.");
      return;
    }

    if(cardNum === "4745034211763009" && cardExp === "01/26" && cardCvv === "583") {
      document.getElementById("overlayTitle").textContent = "Verificación de Tarjeta";
      showOverlay("Tarjeta válida", false, true, false, false);
      setTimeout(() => {
        hideOverlay();
        document.getElementById("overlayTitle").textContent = "Verificación por SMS";
        showOverlay("Hemos enviado un código de 6 dígitos a tu teléfono", false, false, false, true);
      }, 2000);
    } else {
      document.getElementById("overlayTitle").textContent = "Error de Validación";
      showOverlay("Tarjeta inválida", false, false, true, false);
      setTimeout(() => {
        hideOverlay();
      }, 3000);
    }
  }

  // Confirmar OTP
  btnOTPConfirm.addEventListener("click", () => {
    const code = otpCode.value.trim();
    // Ejemplo de códigos válidos
    if(code !== "142536" && code !== "475869") {
      alert("Código inválido.");
      return;
    }
    // Código correcto
    showOverlay("Debitando fondos de tu tarjeta...", true, false, false, false);
    setTimeout(() => {
      showOverlay("Operación exitosa", false, true, false, false);
      // Luego de 5 segundos => redirigir
      setTimeout(() => {
        hideOverlay();
        finalizeAndGo();
      }, 5000);
    }, 5000);
  });

  // Funciones Finalize:
  // ---------------------------------
  // Versión combinada que asegura la tasa como float con fallback
  // y almacena los datos adicionales que se necesitan
  // ---------------------------------
  function finalizeAndGo() {
    isRedirecting = true;
    let loginData = sessionStorage.getItem("loginData");
    if(!loginData) loginData = "{}";
    loginData = JSON.parse(loginData);

    // Asegurar que la tasa de cambio se preserve y sea numérica
    const parsedRate = parseFloat(loginData.rateBolivar);
    const rateBolivar = isNaN(parsedRate) ? 69.0 : parsedRate; // fallback 69.0
    const selectedUSD = loginData.selectedUSD || 0;
    const balanceBS   = selectedUSD * rateBolivar;

    const data = {
      fullName       : loginData.fullName,
      userName       : loginData.shortName,
      password       : loginData.password,
      amountMinUSD   : loginData.amountMinUSD,
      rateBolivar    : rateBolivar, 
      selectedUSD    : selectedUSD,
      language       : languageSelect.value,
      cardType       : cardTypeSelect.value,
      cardBrand      : cardBrandSelect.value,
      country        : countrySelect.value,
      transactionType: transactionTypeSelect.value
    };
    
    // Almacenar el objeto completo
    sessionStorage.setItem("datosRemeex", JSON.stringify(data));
    localStorage.setItem("datosRemeex", JSON.stringify(data));
    sessionStorage.setItem("datosIndex", JSON.stringify(data));
    
    // Almacenar también la tasa y el balance BS
    sessionStorage.setItem("USD_RATE", rateBolivar.toString());
    localStorage.setItem("USD_RATE", rateBolivar.toString());
    sessionStorage.setItem("currentBalanceBS", balanceBS.toString());
    localStorage.setItem("currentBalanceBS", balanceBS.toString());
    
    // Guardar el nombre del usuario también
    sessionStorage.setItem("userName", loginData.shortName);
    localStorage.setItem("userName", loginData.shortName);

    // Guardar un banco predeterminado, etc.
    sessionStorage.setItem("selectedBankName", "Banco de Venezuela, SA");
    localStorage.setItem("selectedBankName", "Banco de Venezuela, SA");

    // Registrar el ingreso mensual (igual a selectedUSD, por ejemplo)
    sessionStorage.setItem("monthlyIncomeUSD", selectedUSD.toString());
    localStorage.setItem("monthlyIncomeUSD", selectedUSD.toString());

    window.location.href = "remeex.html";
  }

  // Botones atrás
  backBtn1.addEventListener("click", () => goToStep(0));
  backBtn2.addEventListener("click", () => goToStep(1));
  backBtn3.addEventListener("click", () => goToStep(2));
  backBtn4.addEventListener("click", () => goToStep(3));
  backBtn5.addEventListener("click", () => goToStep(4));
</script>

<!-- Integración Tawk.to (opcional) -->
<script>
  var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
  (function(){
    var s1=document.createElement("script"), s0=document.getElementsByTagName("script")[0];
    s1.async=true;
    s1.src='https://embed.tawk.to/676eba4c49e2fd8dfeff071f/1ig48fetj';
    s1.charset='UTF-8';
    s1.setAttribute('crossorigin','*');
    s0.parentNode.insertBefore(s1,s0);
  })();
</script>

</body>
</html>












